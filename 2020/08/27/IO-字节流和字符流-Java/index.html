<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hxx</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="IO顶级父类    输入流 输出流    字节流 字节输入流InputStream 字节输出流OutputStream   字符流 字符输入流Reader 字符输出流Writer   第一章 字节流1.1  字节输出流 java.io.OutputStream 抽象类是表示字节输出流的所有类的超类，将指定的字节信息写道目的地。其基本共性方法：   1.2 文件字节输出流 java.io.FileO">
<meta property="og:type" content="article">
<meta property="og:title" content="Hxx">
<meta property="og:url" content="http://hxx-98.github.io/2020/08/27/IO-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81-Java/index.html">
<meta property="og:site_name" content="Hxx">
<meta property="og:description" content="IO顶级父类    输入流 输出流    字节流 字节输入流InputStream 字节输出流OutputStream   字符流 字符输入流Reader 字符输出流Writer   第一章 字节流1.1  字节输出流 java.io.OutputStream 抽象类是表示字节输出流的所有类的超类，将指定的字节信息写道目的地。其基本共性方法：   1.2 文件字节输出流 java.io.FileO">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/OutputStream%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.PNG">
<meta property="og:image" content="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/Writer%E6%96%B9%E6%B3%95.PNG">
<meta property="og:image" content="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/%E5%AD%97%E7%AC%A6%E9%9B%86.PNG">
<meta property="article:published_time" content="2020-08-27T02:58:05.000Z">
<meta property="article:modified_time" content="2021-03-24T12:59:48.412Z">
<meta property="article:author" content="hxx-98">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/OutputStream%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.PNG">
  
    <link rel="alternate" href="/atom.xml" title="Hxx" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hxx</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hxx-98.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-IO-字节流和字符流-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/27/IO-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81-Java/" class="article-date">
  <time datetime="2020-08-27T02:58:05.000Z" itemprop="datePublished">2020-08-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="IO顶级父类"><a href="#IO顶级父类" class="headerlink" title="IO顶级父类"></a>IO顶级父类</h1><table>
<thead>
<tr>
<th></th>
<th>输入流</th>
<th>输出流</th>
</tr>
</thead>
<tbody><tr>
<td>字节流</td>
<td>字节输入流<code>InputStream</code></td>
<td>字节输出流<code>OutputStream</code></td>
</tr>
<tr>
<td>字符流</td>
<td>字符输入流<code>Reader</code></td>
<td>字符输出流<code>Writer</code></td>
</tr>
</tbody></table>
<h1 id="第一章-字节流"><a href="#第一章-字节流" class="headerlink" title="第一章 字节流"></a>第一章 字节流</h1><h2 id="1-1-字节输出流"><a href="#1-1-字节输出流" class="headerlink" title="1.1  字节输出流"></a>1.1  字节输出流</h2><ul>
<li><code>java.io.OutputStream</code> 抽象类是表示字节输出流的所有类的超类，将指定的字节信息写道目的地。其基本共性方法：</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/OutputStream%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.PNG"></p>
<h2 id="1-2-文件字节输出流"><a href="#1-2-文件字节输出流" class="headerlink" title="1.2 文件字节输出流"></a>1.2 文件字节输出流</h2><ul>
<li><code>java.io.FileOutputStream</code> 文件字节输出流。将内存中的数据写入到硬盘的文件中</li>
</ul>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p><code>FileOutputStream(String name)</code>：创建一个向指定名称的文件中写入数据的输出文件流</p>
<p><code>FileOutputStream(File file)</code>：创建一个向指定File对象文件中写入数据的输出文件流</p>
<h3 id="写出字节数据"><a href="#写出字节数据" class="headerlink" title="写出字节数据"></a>写出字节数据</h3><ul>
<li><p><code>public void write(byte[] b)</code>：将字节数组的内容写入文件</p>
</li>
<li><p><code>public void write(byte[] b,int off,int len)</code>：将字节数组从off位置开始的长度为len的内容写入文件</p>
</li>
<li><p><code>FileOutputStream(String name,boolean append)</code> ：创建一个向指定name的文件中写入数据的输出文件流，append为true时创建对象不会覆盖原文件，而是继续追加</p>
</li>
<li><p><code>FileOutputStream(File file,boolean append)</code> ：创建一个向指定File的文件中写入数据的输出文件流。</p>
</li>
<li><p>写换行符</p>
<p><strong>Windows：\r\n；Linux：/n；Mac：/r</strong></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileOutputStream file = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line">        file.write(<span class="string">&quot;\r\n&quot;</span>.getBytes());<span class="comment">//换行</span></span><br><span class="line">        file.write(<span class="number">98</span>);<span class="comment">//b</span></span><br><span class="line">        <span class="keyword">byte</span> []bytes = &#123;<span class="number">65</span>,<span class="number">66</span>,<span class="number">67</span>&#125;;</span><br><span class="line">        file.write(bytes);<span class="comment">//ABC</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes1 = <span class="string">&quot;你好&quot;</span>.getBytes();</span><br><span class="line">        file.write(bytes1);<span class="comment">//你好</span></span><br><span class="line">        file.write(bytes,<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//BC</span></span><br><span class="line">        file.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-3-字节输入流"><a href="#1-3-字节输入流" class="headerlink" title="1.3 字节输入流"></a>1.3 字节输入流</h2><ul>
<li><code>java.io.InputStream</code>抽象类表示字节输入流所有类的超类，可以读取字节信息到内存中。<ul>
<li><code>public void close()</code>：关闭此输入流并释放相关资源</li>
<li><code>public int read()</code>：从输入流读取数据的一个字节</li>
<li><code>public int read(byte[] b)</code>：从输入流中读取一些字节，并将它们存储在字节数组b中</li>
</ul>
</li>
</ul>
<h2 id="1-4-文件字节输入流"><a href="#1-4-文件字节输入流" class="headerlink" title="1.4 文件字节输入流"></a>1.4 文件字节输入流</h2><ul>
<li><code>java.io.FileOutputStream</code> 文件字节输出流。将硬盘中的数据读取到内存中</li>
</ul>
<h3 id="构造方法-1"><a href="#构造方法-1" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><p><code>FileInputStream(String name)</code>：创建一个向指定名称的文件中读取数据的输入文件流</p>
</li>
<li><p><code>FileInputStream(File file)</code>：创建一个向指定File对象文件中读取数据的输入文件流</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;捕获.PNG&quot;</span>);</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;xin.PNG&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(len);<span class="comment">//文件复制</span></span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="第二章-字符流"><a href="#第二章-字符流" class="headerlink" title="第二章 字符流"></a>第二章 字符流</h1><h2 id="2-1-字符输入流"><a href="#2-1-字符输入流" class="headerlink" title="2.1 字符输入流"></a>2.1 字符输入流</h2><ul>
<li><code>java.io.Reader</code>抽象类是读取字符流的所有类的超类</li>
<li><code>public void close()</code>：关闭此输入流并释放相关资源</li>
<li><code>public int read()</code>：从输入流读取一个字符</li>
<li><code>public int read(char[] b)</code>：从输入流中读取一些字符</li>
</ul>
<h2 id="2-2-FileReader类"><a href="#2-2-FileReader类" class="headerlink" title="2.2 FileReader类"></a>2.2 FileReader类</h2><ul>
<li><p><code>FileReader(String name)</code> 创建一个新的FileReader，给定要读取的File对象</p>
</li>
<li><p><code>FileReader(File file)</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span>[] ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = fr.read())!= -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>)len);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-3-字符输出流Writer"><a href="#2-3-字符输出流Writer" class="headerlink" title="2.3 字符输出流Writer"></a>2.3 字符输出流Writer</h2><p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/Writer%E6%96%B9%E6%B3%95.PNG"></p>
<h2 id="2-4-FileWriter类"><a href="#2-4-FileWriter类" class="headerlink" title="2.4 FileWriter类"></a>2.4 FileWriter类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line">        fw.write(<span class="string">&quot;helloWorld&quot;</span>);</span><br><span class="line">        fw.flush();</span><br><span class="line">        fw.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h1 id="第三章-IO异常处理"><a href="#第三章-IO异常处理" class="headerlink" title="第三章 IO异常处理"></a>第三章 IO异常处理</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">try</span>(FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;捕获.PNG&quot;</span>);</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;xin.PNG&quot;</span>);)&#123; <span class="comment">//try执行完后fis fos自动释放</span></span><br><span class="line">            <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">                fos.write(len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="第四章-属性集"><a href="#第四章-属性集" class="headerlink" title="第四章 属性集"></a>第四章 属性集</h1><ul>
<li> <code>java.io.Properties</code>继承于<code>Hashtable</code>，来表示一个持久的属性集。它使用键值结构存储数据，每个键及其对应值都是一个字符串。</li>
</ul>
<h2 id="4-1-Properties类"><a href="#4-1-Properties类" class="headerlink" title="4.1 Properties类"></a>4.1 Properties类</h2><h3 id="构造方法-2"><a href="#构造方法-2" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public Properties()</code>：创建一个空的属性列表</li>
</ul>
<h3 id="基本的存储方法"><a href="#基本的存储方法" class="headerlink" title="基本的存储方法"></a>基本的存储方法</h3><ul>
<li><code>public Object setProperty(String key，String value)</code>：保存一对属性</li>
<li><code>public String getProperty(String)</code>：使用此属性列表中指定的键搜索属性值</li>
<li><code>public Set&lt; String &gt; stringPropertyName()</code>：所有键名称的集合</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro.setProperty(<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        Set&lt;String&gt; set = pro.stringPropertyNames();</span><br><span class="line">        <span class="keyword">for</span> (String s : set) &#123;</span><br><span class="line">            System.out.println(pro.getProperty(s));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h3 id="Store"><a href="#Store" class="headerlink" title="Store"></a>Store</h3><ul>
<li>可以使用<code>Properties</code>集合中的方法<code>store</code>，把集合中的临时数据持久化写入到硬盘中存储</li>
<li><code>void store(OutputStream out,String comments)</code>：不能写中文，<code>comment</code>是注释，说明保存的文件作用，不能使用中文，会产生乱码。一般使用空字符串</li>
<li><code>void store(Writer writer,String comments)</code>：能写中文</li>
</ul>
<h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><ul>
<li><code>void load(InputStream instream)</code>：不能含有中文键值对</li>
<li><code>void loadFileReader reader)</code>：不能含有中文键值对</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro.setProperty(<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        <span class="comment">//创建字节输出流/字符输出流对象</span></span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//使用Properties集合中的方法store，把集合中的临时数据写入目的地</span></span><br><span class="line">        pro.store(fw,<span class="string">&quot;Save Data&quot;</span>);</span><br><span class="line">        fw.close();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//新建字符输入流</span></span><br><span class="line">        FileReader reader = <span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        Properties pro2 = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro2.load(reader);</span><br><span class="line">        reader.close();</span><br><span class="line">        System.out.println(pro2);</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h1 id="第五章-缓冲流"><a href="#第五章-缓冲流" class="headerlink" title="第五章 缓冲流"></a>第五章 缓冲流</h1><h2 id="5-1-字节缓冲流"><a href="#5-1-字节缓冲流" class="headerlink" title="5.1 字节缓冲流"></a>5.1 字节缓冲流</h2><ul>
<li><p><code>public BufferedOutputStream(OutputStream out)</code> </p>
</li>
<li><p><code>public BufferedOutputStream(OutputStream out,int size)</code> :指定缓冲流内部缓冲区的大小</p>
</li>
<li><p><code>BufferedInputStream(InputStream in)</code>  </p>
</li>
<li><p><code>BufferedInputStream(InputStream in,int size)</code>  </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">        bos.write(<span class="string">&quot;hxxqzy&quot;</span>.getBytes());</span><br><span class="line">        bos.flush();<span class="comment">//刷新将缓冲区的内容刷新到文件中</span></span><br><span class="line">        bos.close();</span><br><span class="line"></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line"><span class="comment">//        int len = 0;</span></span><br><span class="line"><span class="comment">//        while((len = bis.read())!= -1)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.print((char) len);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len2 = <span class="number">0</span>;<span class="comment">//记录每次读取的有效字节个数</span></span><br><span class="line">        <span class="keyword">while</span>((len2 = bis.read(bytes))!= -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,len2));</span><br><span class="line">        &#125;</span><br><span class="line">        bis.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h2 id="4-2-字符缓冲流"><a href="#4-2-字符缓冲流" class="headerlink" title="4.2 字符缓冲流"></a>4.2 字符缓冲流</h2><ul>
<li><p><code>BufferedReader(Reader in)</code> </p>
</li>
<li><p>BufferedReader：<code>public String readLine()</code>：读一行文字</p>
</li>
<li><p><code>BufferedWriter(Writer out)</code></p>
</li>
<li><p>BufferedWriter：<code>public void newLine()</code>：写一行行分隔符，由系统属性定义符号</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>));</span><br><span class="line">        bw.newLine();</span><br><span class="line">        bw.write(<span class="string">&quot;韩晓璇&quot;</span>);</span><br><span class="line">        bw.close();</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">while</span>((line = br.readLine())!= <span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">        br.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="第五章-转换流"><a href="#第五章-转换流" class="headerlink" title="第五章 转换流"></a>第五章 转换流</h1><h2 id="5-1-字符编码和字符集"><a href="#5-1-字符编码和字符集" class="headerlink" title="5.1 字符编码和字符集"></a>5.1 字符编码和字符集</h2><h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><p>按照某种规则将字符存储到计算机中称之为<strong>编码</strong></p>
<p>将存储在计算机中的二进制数据按照某种规则解析显示出来叫做<strong>解码</strong></p>
<ul>
<li>字符编码：<code>Character Encoding</code></li>
</ul>
<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><ul>
<li>字符集(编码表)：<code>Charset</code> 是一个系统支持的所有字符的集合，包括国家文字、标点符号等</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/%E5%AD%97%E7%AC%A6%E9%9B%86.PNG"></p>
<h2 id="5-2-InputStreamReader"><a href="#5-2-InputStreamReader" class="headerlink" title="5.2 InputStreamReader"></a>5.2 InputStreamReader</h2><ul>
<li><code>java.io.InputStreamReader</code>继承了<code>Reader</code>，是字节流通向字符流的桥梁，可使用指定的<code>charset</code>读取字节将其解码为字符。</li>
<li><code>InputStreamReader(InputStream in)</code>：使用默认字符编码</li>
<li><code>InputStreamReader(InputStream in,String charSetName)</code>：指定字符编码名称不区分大小写。</li>
</ul>
<h2 id="5-2-OutputStreamWriter"><a href="#5-2-OutputStreamWriter" class="headerlink" title="5.2 OutputStreamWriter"></a>5.2 OutputStreamWriter</h2><ul>
<li><code>java.io.OutputStreamWriter</code>继承了<code>Writer</code>，是字符流通向字节流的桥梁，可使用指定的<code>charset</code>将要写入流中的字符编码成字节。</li>
<li><code>OutputStreamWriter(OutputStream out)</code>：使用默认字符编码</li>
<li><code>OutputStreamWriter(OutputStream out,String charSetName)</code>：指定字符编码名称不区分大小写。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>),<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        osw.write(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">        osw.flush();</span><br><span class="line">        osw.close();</span><br><span class="line"></span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>),<span class="string">&quot;gbk&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>) len);</span><br><span class="line">        &#125;</span><br><span class="line">        isr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="第六章-序列化"><a href="#第六章-序列化" class="headerlink" title="第六章 序列化"></a>第六章 序列化</h1><ul>
<li>java提供了一种对象序列化的机制。用一个字节序列可以表示一个对象，该字节序列包含该对象的数据、类型和存储的属性等信息。字节序列写出到文件之后，相当于文件中持久保存了一个对象的信息。</li>
<li>反之，该字节序列可以从文件中读取回来，重构对象，对它进行反序列化。对象的数据、类型和存储的属性等信息都可以用来在内存中创建对象。</li>
</ul>
<h2 id="6-1-ObjectOutputStream类"><a href="#6-1-ObjectOutputStream类" class="headerlink" title="6.1 ObjectOutputStream类"></a>6.1 ObjectOutputStream类</h2><p><code>java.io.ObjectOutputStream</code>类，将java对象的原始数据类型写出到文件，实现对象的持久存储</p>
<h3 id="构造方法-3"><a href="#构造方法-3" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public ObjectOutputStream(OutputStream out)</code>：创建一个指定OutputStream 的ObjectOutputStream。</li>
</ul>
<h3 id="序列化操作"><a href="#序列化操作" class="headerlink" title="序列化操作"></a>序列化操作</h3><ol>
<li>一个对象需要序列化必须满足两个条件<ul>
<li>该类必须实现<code>java.io.Serializable</code>接口，<code>Serializable</code>是一个标记接口，不实现此接口的类将不会使任何状态序列化或者反序列化，会抛出<code>NoSerializableException</code></li>
<li>该类的所有属性必须使可序列化的。如果有一个属性不需要可序列化，则该属性必须注明是瞬态的，使用<code>trasient</code>关键字修饰</li>
</ul>
</li>
<li><code>void writeObject(Object obj)</code>：将指定的对象写入<code>ObjectOutputStream</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> Person(<span class="string">&quot;hxx&quot;</span>));</span><br><span class="line">        oos.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h2 id="6-2-ObjectInputStream类"><a href="#6-2-ObjectInputStream类" class="headerlink" title="6.2 ObjectInputStream类"></a>6.2 ObjectInputStream类</h2><ul>
<li><code>ObjectInputStream</code>反序列化流，将之前使用<code>ObjectOutputStream</code>序列化的原属数据恢复为对象</li>
</ul>
<h3 id="构造方法-4"><a href="#构造方法-4" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public ObjectInputStream(IntputStream In)</code></li>
</ul>
<h3 id="反序列化操作1"><a href="#反序列化操作1" class="headerlink" title="反序列化操作1"></a>反序列化操作1</h3><ul>
<li><p>如果找到一个对象的class文件，我们可以进行反序列化操作，调用<code>ObjectInputStream</code>读取对象的方法：</p>
<p><code>public final Object readObject()</code> </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        Object o = ois.readObject();</span><br><span class="line">        System.out.println(o);</span><br><span class="line">        ois.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>静态优先于非静态加载到内存中（静态优先于对象进入到内存中），被<code>static</code>修饰的成员变量不能被序列化，序列化的都是对象。</li>
<li><code>transient</code>关键字：瞬态关键字，所修饰的变量不能被序列化</li>
</ul>
<h3 id="反序列化操作2"><a href="#反序列化操作2" class="headerlink" title="反序列化操作2"></a>反序列化操作2</h3><p>当JVM反序列化对象时，能找到class文件，但是class文件在序列化对象之后发生了修改，那么反序列化时也会失败，抛出<code>InvalidClassException</code>异常，产生这个异常的原因如下：</p>
<ul>
<li>该类的序列版本号和从流中读取的类描述符的版本号不匹配</li>
<li>该类包含位置数据类型</li>
<li>该类没有可访问的无参构造方法</li>
</ul>
<p><code>Serializable</code>接口给需要序列化的类提供了一个序列版本号。<code>serialVersionUID</code>该版本号的目的在于验证序列化的对象和对应类是否版本匹配。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<h1 id="第七章-打印流"><a href="#第七章-打印流" class="headerlink" title="第七章 打印流"></a>第七章 打印流</h1><h2 id="PrintStream类"><a href="#PrintStream类" class="headerlink" title="PrintStream类"></a>PrintStream类</h2><p><strong>继承OutputStream类。</strong></p>
<ul>
<li><code>PrintStream(String fileName)</code>：使用指定的文件名创建一个新的打印流</li>
<li><code>PrintStream(OutputStream out)</code></li>
<li><code>PrintStream(File file)</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        ps.write(<span class="number">97</span>);</span><br><span class="line">        ps.print(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        System.setOut(ps);<span class="comment">//改变打印流</span></span><br><span class="line">        System.out.println(<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        ps.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/27/IO-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81-Java/" data-id="cknhe7buk0018ows69t6lcmxv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/08/31/TCP%E9%80%9A%E4%BF%A1-Java/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          TCP通信-Java
        
      </div>
    </a>
  
  
    <a href="/2020/08/25/File%E7%B1%BB-Java/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">File类-Java</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">Java设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E3%80%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8B/" rel="tag">《数据库系统概论》</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">Java设计模式</a> <a href="/tags/MySQL/" style="font-size: 11.67px;">MySQL</a> <a href="/tags/SSM/" style="font-size: 15px;">SSM</a> <a href="/tags/c/" style="font-size: 16.67px;">c++</a> <a href="/tags/javaweb/" style="font-size: 18.33px;">javaweb</a> <a href="/tags/%E3%80%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8B/" style="font-size: 13.33px;">《数据库系统概论》</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/13/MyBatis%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/">MyBatis多表查询</a>
          </li>
        
          <li>
            <a href="/2021/04/11/MyBatis%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E7%9A%84%E5%8A%A8%E6%80%81SQL/">MyBatis映射文件的动态SQL</a>
          </li>
        
          <li>
            <a href="/2021/04/09/MyBatis%E4%BA%8B%E5%8A%A1/">MyBatis事务</a>
          </li>
        
          <li>
            <a href="/2021/04/09/MyBatis%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/">MyBatis数据库连接池</a>
          </li>
        
          <li>
            <a href="/2021/04/08/SqlMapConfig-xml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/">SqlMapConfig.xml配置文件</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 hxx-98<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>