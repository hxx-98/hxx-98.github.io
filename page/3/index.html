<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hxx</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hxx">
<meta property="og:url" content="http://hxx-98.github.io/page/3/index.html">
<meta property="og:site_name" content="Hxx">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="hxx-98">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hxx" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hxx</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hxx-98.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-注册时异步检测用户名是否已经存在" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/30/%E6%B3%A8%E5%86%8C%E6%97%B6%E5%BC%82%E6%AD%A5%E6%A3%80%E6%B5%8B%E7%94%A8%E6%88%B7%E5%90%8D%E6%98%AF%E5%90%A6%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8/" class="article-date">
  <time datetime="2021-03-30T09:13:13.000Z" itemprop="datePublished">2021-03-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/30/%E6%B3%A8%E5%86%8C%E6%97%B6%E5%BC%82%E6%AD%A5%E6%A3%80%E6%B5%8B%E7%94%A8%E6%88%B7%E5%90%8D%E6%98%AF%E5%90%A6%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8/">注册时异步检测用户名是否已经存在</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><ul>
<li>在注册页面中，当用户输入用户ID后，客户端判断用户ID是否以及存在。</li>
<li>即：当文本输入框失去焦点后，发送Ajax请求，查询数据库是否存在该用户名。如果存在：则提示此用户太受欢迎，请更换一个名字；如果不存在，则提示信息可以用</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/%E6%B3%A8%E5%86%8C%E6%A3%80%E6%B5%8B%E7%94%A8%E6%88%B7%E5%90%8D.PNG"></p>
<h1 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h1><p>注册页面</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>regist<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery-3.5.1.min.js&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//入口函数</span></span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//给用户名输入框绑定blur事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#username&quot;</span>).blur(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//使用jQuery对象获取输入框内容</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> username = $(<span class="built_in">this</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//发送Ajax请求</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//期望服务器返回的数据格式：&#123;&quot;userExist&quot;:true,&quot;msg&quot;:&quot;此用户太受欢迎，请更换一个名字&quot;&#125;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//                     &#123;&quot;userExist&quot;:false,&quot;msg&quot;:&quot;用户名可用&quot;&#125;</span></span></span><br><span class="line"><span class="javascript">                $.get(<span class="string">&quot;findUserServlet&quot;</span>,&#123;<span class="string">&quot;username&quot;</span>:username&#125;,<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (data.userExist == <span class="literal">false</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//设置span标签的属性</span></span></span><br><span class="line"><span class="javascript">                        $(<span class="string">&quot;#userspan&quot;</span>).css(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;green&quot;</span>);</span></span><br><span class="line"><span class="javascript">                        $(<span class="string">&quot;#userspan&quot;</span>).html(data.msg);</span></span><br><span class="line"><span class="javascript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="string">&quot;#userspan&quot;</span>).css(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span></span><br><span class="line"><span class="javascript">                        $(<span class="string">&quot;#userspan&quot;</span>).html(data.msg);</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                &#125;,<span class="string">&quot;json&quot;</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/login&quot;</span><span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span><span class="attr">placeholder</span>=<span class="string">&quot;请输入用户名&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;userspan&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span><span class="attr">name</span>=<span class="string">&quot;password&quot;</span><span class="attr">placeholder</span>=<span class="string">&quot;请输入密码&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span><span class="attr">value</span>=<span class="string">&quot;登录&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>判断逻辑findUserServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/findUserServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">findUserServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//接收用户数据</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        String username = request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        <span class="comment">//在项目中hxx实际上是查询数据库是否已经存在该用户名</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;hxx&quot;</span>.equals(username))&#123;</span><br><span class="line">            map.put(<span class="string">&quot;userExist&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line">            map.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;此用户太受欢迎，请更换一个名字&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            map.put(<span class="string">&quot;userExist&quot;</span>,<span class="keyword">false</span>);</span><br><span class="line">            map.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;用户名可用&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将map转换为json字符串</span></span><br><span class="line">        ObjectMapper objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        <span class="comment">//传输给客户端</span></span><br><span class="line">        objectMapper.writeValue(response.getWriter(),map);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/30/%E6%B3%A8%E5%86%8C%E6%97%B6%E5%BC%82%E6%AD%A5%E6%A3%80%E6%B5%8B%E7%94%A8%E6%88%B7%E5%90%8D%E6%98%AF%E5%90%A6%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8/" data-id="cknhe7bxo007pows6e8yyhevb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JSON语法和解析器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/30/JSON%E8%AF%AD%E6%B3%95%E5%92%8C%E8%A7%A3%E6%9E%90%E5%99%A8/" class="article-date">
  <time datetime="2021-03-30T00:54:26.000Z" itemprop="datePublished">2021-03-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/30/JSON%E8%AF%AD%E6%B3%95%E5%92%8C%E8%A7%A3%E6%9E%90%E5%99%A8/">JSON语法和解析器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1.基本概念"></a>1.基本概念</h1><ul>
<li>JavaScript对象表示法  Javascript Object Notation </li>
<li>json现在多用于存储和交换文本信息的语法</li>
<li>进行数据的传输</li>
<li>json比XML更小、更快、更易解析</li>
</ul>
<h1 id="2-语法"><a href="#2-语法" class="headerlink" title="2.语法"></a>2.语法</h1><ol>
<li>基本规则<ul>
<li>数据在名称/值对中：json数据由键值对构成。<ol>
<li>键用单/双引号引起，也可以不使用；</li>
<li>值的取值类型<ul>
<li>数字（整数或浮点数）</li>
<li>字符串（双引号）</li>
<li>逻辑值（true或false）</li>
<li>数组（在方括号中）  {“Person”:[{ },{ }….]}</li>
<li>对象  {“address”:{“province”:”陕西”…}}</li>
<li>null</li>
</ul>
</li>
</ol>
</li>
<li>数据由逗号隔开：多个键值对由都好分隔</li>
<li>花括号保存对象：使用{}定义json格式</li>
<li>方括号保存数组：[]</li>
</ul>
</li>
<li>获取数据<ul>
<li>json对象.键名</li>
<li>json对象[“键名”]</li>
<li>数组对象[索引]</li>
</ul>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//定义基本格式</span></span><br><span class="line">    <span class="keyword">var</span> person = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;hxx&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">true</span>&#125;;</span><br><span class="line">    <span class="comment">//获取person的所有键和值</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> personKey <span class="keyword">in</span> person) &#123;</span><br><span class="line">        alert(personKey+<span class="string">&quot;:&quot;</span>+person[personKey]);</span><br><span class="line">        <span class="comment">//alert(person.personKey);//这种方式不能正确获取，因为personKey是字符串形式&quot;name&quot;,person.personKey相当于person.&quot;name&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取name</span></span><br><span class="line">    alert(person.name);</span><br><span class="line">    alert(person[<span class="string">&quot;name&quot;</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//嵌套格式</span></span><br><span class="line">    <span class="keyword">var</span> persons = &#123;</span><br><span class="line">        <span class="string">&quot;persons&quot;</span>: [</span><br><span class="line">            &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;hxx&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;qzy&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> ps = persons.persons;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; ps.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> p = ps[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> pKey <span class="keyword">in</span> p) &#123;</span><br><span class="line">            alert(pKey+<span class="string">&quot;:&quot;</span>+ p[pKey]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    alert(persons.persons[<span class="number">1</span>].name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> ps = [</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;hxx&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;qzy&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;</span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; ps.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> p = ps[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> pKey <span class="keyword">in</span> p) &#123;</span><br><span class="line">            alert(pKey+<span class="string">&quot;:&quot;</span>+ p[pKey]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    alert(ps[<span class="number">1</span>].name);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="3-json数据和Java对象的相互转换"><a href="#3-json数据和Java对象的相互转换" class="headerlink" title="3.json数据和Java对象的相互转换"></a>3.json数据和Java对象的相互转换</h1><ul>
<li><p>json解析器</p>
<p>Jsonlib、Gjson、fastjson、jackson(SprinMVC内置的解析器)</p>
</li>
<li><p>jackson解析器：Java对象转换JSON</p>
<ol>
<li>导入Jackson相关jar包：<a target="_blank" rel="noopener" href="https://mvnrepository.com/search?q=jackson">https://mvnrepository.com/search?q=jackson</a></li>
</ol>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/Jacksonjar.PNG"></p>
</li>
</ul>
<h2 id="3-1-Java对象转换为json对象"><a href="#3-1-Java对象转换为json对象" class="headerlink" title="3.1 Java对象转换为json对象"></a>3.1 Java对象转换为json对象</h2><p>转换核心对象ObjectMapper的转换方法：</p>
<ol>
<li><p>writeValue(参数1，obj)</p>
<pre><code>    参数1：
         File：将obj对象转换为json字符串，并保存到指定文件中
         Writer：将json字符串填充到字符输出流中
         OutputStream:将json字符串填充到字节输出流中</code></pre>
</li>
<li><p>writeValueAsString(obj)转换为json字符串</p>
</li>
</ol>
<p>注解</p>
<ol>
<li><p>@JsonIgnore //转换成json对象时忽略该属性</p>
</li>
<li><p>@JsonFormat：属性值格式化</p>
<p>@JsonFormat(pattern = “yyyy-MM-dd”)</p>
</li>
</ol>
<p>复杂Java对象转换</p>
<ol>
<li>List：数组</li>
<li>Map：对象格式一致</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JacksonTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建Person对象</span></span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        person.setAge(<span class="number">20</span>);</span><br><span class="line">        person.setName(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        person.setBirthday(<span class="keyword">new</span> Date());</span><br><span class="line">        <span class="comment">//创建Jackson核心对象</span></span><br><span class="line">        ObjectMapper objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line"></span><br><span class="line">        String json = objectMapper.writeValueAsString(person);</span><br><span class="line">        <span class="comment">//&#123;&quot;name&quot;:&quot;hxx&quot;,&quot;age&quot;:20,&quot;birthday&quot;:&quot;2021-03-30&quot;&#125;</span></span><br><span class="line">        System.out.println(json);<span class="comment">//&#123;&quot;name&quot;:&quot;hxx&quot;,&quot;age&quot;:20&#125;</span></span><br><span class="line">        <span class="comment">//将数据写到a.txt中</span></span><br><span class="line">        objectMapper.writeValue(<span class="keyword">new</span> File(<span class="string">&quot;a.txt&quot;</span>),person);</span><br><span class="line"></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">        p1.setName(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        p1.setAge(<span class="number">10</span>);</span><br><span class="line">        p1.setBirthday(<span class="keyword">new</span> Date());</span><br><span class="line"></span><br><span class="line">        List&lt;Person&gt; list = <span class="keyword">new</span> ArrayList&lt;Person&gt;();</span><br><span class="line">        list.add(person);</span><br><span class="line">        list.add(p1);</span><br><span class="line">        String asString = objectMapper.writeValueAsString(list);</span><br><span class="line">        <span class="comment">//[&#123;&quot;name&quot;:&quot;hxx&quot;,&quot;age&quot;:20,&quot;birthday&quot;:&quot;2021-03-30&quot;&#125;,&#123;&quot;name&quot;:&quot;张三&quot;,&quot;age&quot;:10,&quot;birthday&quot;:&quot;2021-03-30&quot;&#125;]</span></span><br><span class="line">        System.out.println(asString);</span><br><span class="line"></span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;age&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        String s = objectMapper.writeValueAsString(map);</span><br><span class="line">        <span class="comment">//&#123;&quot;name&quot;:&quot;hxx&quot;,&quot;age&quot;:20&#125;</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-2json对象转换为Java对象"><a href="#3-2json对象转换为Java对象" class="headerlink" title="3.2json对象转换为Java对象"></a>3.2json对象转换为Java对象</h2><p>转换核心对象ObjectMapper的转换方法：</p>
<ol>
<li>readValue(json字符串，Class)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    <span class="comment">//初始化json字符串</span></span><br><span class="line">    String json = <span class="string">&quot;&#123;\&quot;name\&quot;:\&quot;hxx\&quot;,\&quot;age\&quot;:20,\&quot;birthday\&quot;:\&quot;2021-03-30\&quot;&#125;&quot;</span>;</span><br><span class="line">    <span class="comment">//创建ObjectMapper</span></span><br><span class="line">    ObjectMapper objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    Person person = objectMapper.readValue(json, Person.class);</span><br><span class="line">    System.out.println(person);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>






      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/30/JSON%E8%AF%AD%E6%B3%95%E5%92%8C%E8%A7%A3%E6%9E%90%E5%99%A8/" data-id="cknhe7but001mows6esfag86y" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-AJAX-JQuery实现方式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/29/AJAX-JQuery%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/" class="article-date">
  <time datetime="2021-03-29T07:11:54.000Z" itemprop="datePublished">2021-03-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/29/AJAX-JQuery%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/">AJAX-JQuery实现方式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-AJAX基本概念"><a href="#1-AJAX基本概念" class="headerlink" title="1.AJAX基本概念"></a>1.AJAX基本概念</h1><ul>
<li>ASynchronous Javascript And XML  异步的JavaScript和XML </li>
<li>异步和同步：客户端和服务器端相互通信的基础上<ul>
<li>异步：客户端必须等待服务器端的响应。在等待期间客户端不能做其他操作</li>
<li>同步：客户端不需要等待服务器端的响应。在服务器处理请求的过程中，客户端可以进行其他的操作</li>
</ul>
</li>
<li>Ajax是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术</li>
<li>通过在后台与服务器进行少量数据交换，Ajax可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网站的某部分进行更新。传统的网页（不使用Ajax）如果需要更新内容，必须重载整个网页页面。</li>
</ul>
<h1 id="2-实现方式"><a href="#2-实现方式" class="headerlink" title="2.实现方式"></a>2.实现方式</h1><h2 id="2-1原生的JS实现方式"><a href="#2-1原生的JS实现方式" class="headerlink" title="2.1原生的JS实现方式"></a>2.1原生的JS实现方式</h2><ul>
<li><p>html中script实现步骤</p>
<p>创建XMLHttpRequest对象，用于在后台和服务器交换数据</p>
<p>建立连接</p>
<p>发送请求</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;发送异步请求&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;fun()&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="comment">&lt;!--当发送异步请求时客户端输入框可以正常输入，同步请求时要等到服务器处理完才可以操作输入框--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;myDiv&quot;</span>&gt;</span>hxxxx<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//定义方法</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> xmlhttp;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest)</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="comment">//  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</span></span></span><br><span class="line"><span class="javascript">            xmlhttp=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">else</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="comment">// IE6, IE5 浏览器执行代码</span></span></span><br><span class="line"><span class="javascript">            xmlhttp=<span class="keyword">new</span> ActiveXObject(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">        /*建立连接</span><br><span class="line">        *  参数：</span><br><span class="line">        *       1.请求方式：GET、POST</span><br><span class="line">        *           get请求参数在URL后面拼接，send方法为空参</span><br><span class="line">        *           post方式请求参数在send方法中定义</span><br><span class="line"><span class="javascript">        *                   xmlhttp.send(<span class="string">&quot;username=hxx&amp;id=1&quot;</span>);</span></span><br><span class="line">        *       2.请求的URL</span><br><span class="line"><span class="javascript">        *       <span class="number">3.</span>同步或异步请求：<span class="literal">true</span>（异步） <span class="literal">false</span>（同步）</span></span><br><span class="line">        * */</span><br><span class="line"><span class="javascript">        xmlhttp.open(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;ajaxServlet?username=hxx&quot;</span>,<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//发送请求</span></span></span><br><span class="line">        xmlhttp.send();</span><br><span class="line"><span class="javascript">        <span class="comment">//响应</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        xmlhttp.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="javascript">            <span class="comment">//当 readyState 等于 4 且状态为 200 时，表示响应已就绪：</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (xmlhttp.readyState==<span class="number">4</span> &amp;&amp; xmlhttp.status==<span class="number">200</span>)</span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.getElementById(<span class="string">&quot;myDiv&quot;</span>).innerText=xmlhttp.responseText;</span></span><br><span class="line">                alert(xmlhttp.responseText)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>服务器资源ajaxServlet接收参数</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/ajaxServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ajaxServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//接收参数</span></span><br><span class="line">        String username = request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="comment">//假设处理时间5秒，观察客户端的输入框是否可以输入数据:异步可以、同步不可以</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//打印参数</span></span><br><span class="line">        System.out.println(username);</span><br><span class="line">        <span class="comment">//响应</span></span><br><span class="line">        response.getWriter().write(<span class="string">&quot;hello:&quot;</span>+username);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-2Jquery实现方式"><a href="#2-2Jquery实现方式" class="headerlink" title="2.2Jquery实现方式"></a>2.2Jquery实现方式</h2><ol>
<li><strong>$.ajax()</strong><ul>
<li>语法：$.ajax(url,[settings])  ，一般情况下写成 $.ajax({键值对}) </li>
</ul>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>JqueryAjax<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery-3.5.1.min.js&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//使用$.ajax()发送异步请求</span></span></span><br><span class="line"><span class="javascript">            $.ajax(</span></span><br><span class="line">                &#123;</span><br><span class="line"><span class="javascript">                    url: <span class="string">&quot;ajaxServlet&quot;</span>, <span class="comment">//请求路径</span></span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&quot;POST&quot;</span>, <span class="comment">//请求方式</span></span></span><br><span class="line"><span class="javascript">                    data:&#123; <span class="string">&quot;username&quot;</span>:<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="string">&quot;20&quot;</span>&#125;,<span class="comment">//传递的数据</span></span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span> (<span class="params">Data</span>) </span>&#123;<span class="comment">//响应成功后的回调函数，Data是服务器的响应数据</span></span></span><br><span class="line">                        alert(Data);</span><br><span class="line">                    &#125;,</span><br><span class="line"><span class="javascript">                    error:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">&quot;出错啦&quot;</span>);<span class="comment">//表示如果请求响应出现错误，会执行此回调函数</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line"><span class="javascript">                    data_type:<span class="string">&quot;text&quot;</span><span class="comment">//表示接收到的响应数据的格式</span></span></span><br><span class="line">                &#125;</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;发送异步请求&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;fun()&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="comment">&lt;!--当发送异步请求时客户端输入框可以正常输入，同步请求时要等到服务器处理完才可以操作输入框--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p><strong>$.get()</strong></p>
<p>语法：$.get(url,[data],[callback],[type])  请求路径、请求参数、回调函数、响应结果的类型</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//定义方法</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">       $.get(<span class="string">&quot;ajaxServlet&quot;</span>,&#123;<span class="string">&quot;username&quot;</span>:<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="string">&quot;20&quot;</span>&#125;,<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line">           alert(data);</span><br><span class="line"><span class="javascript">       &#125;,<span class="string">&quot;text&quot;</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>$.post()</strong></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//定义方法</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">       $.get(<span class="string">&quot;ajaxServlet&quot;</span>,&#123;<span class="string">&quot;username&quot;</span>:<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="string">&quot;20&quot;</span>&#125;,<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line">           alert(data);</span><br><span class="line"><span class="javascript">       &#125;,<span class="string">&quot;text&quot;</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/29/AJAX-JQuery%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/" data-id="cknhe7btp0000ows691yveboa" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JQuery基础使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/25/JQuery%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/" class="article-date">
  <time datetime="2021-03-25T02:16:30.000Z" itemprop="datePublished">2021-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/25/JQuery%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/">JQuery基础使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h1><ol>
<li><p>概念： 一个<strong>JavaScript框架</strong>。简化JS开发</p>
<ul>
<li><p>jQuery是一个快速、简洁的JavaScript框架，是继Prototype之后又一个优秀的JavaScript代码库（或JavaScript框架）。jQuery设计的宗旨    是“write Less，Do More”，即倡导写更少的代码，做更多的事情。它封装JavaScript常用的功能代码，提供一种简便的JavaScript设计模式，优化HTML文档操作、事件处理、动画设计和Ajax交互。</p>
</li>
<li><p>JavaScript框架：本质上就是一些js文件，封装了js的原生代码而已</p>
</li>
</ul>
</li>
</ol>
<h1 id="2-快速入门"><a href="#2-快速入门" class="headerlink" title="2.快速入门"></a>2.快速入门</h1><ol>
<li><p><strong>下载JQuery</strong></p>
<p>  目前jQuery有三个大版本：<br>  1.x：兼容ie678,使用最为广泛的，官方只做BUG维护，</p>
<pre><code>           功能不再新增。因此一般项目来说，使用1.x版本就可以了，</code></pre>
<p>  2.x：不兼容ie678，很少有人使用，官方只做BUG维护，</p>
<pre><code>           功能不再新增。如果不考虑兼容低版本的浏览器可以使用2.x，</code></pre>
<p>  3.x：不兼容ie678，只支持最新的浏览器。除非特殊要求，</p>
<pre><code>           一般不会使用3.x版本的，很多老的jQuery插件不支持这个版本。</code></pre>
</li>
<li><p><strong>jquery-xxx.js 与 jquery-xxx.min.js区别：</strong></p>
<ul>
<li><p>jquery-xxx.js：开发版本。给程序员看的，有良好的缩进和注释。体积大一些</p>
</li>
<li><p>jquery-xxx.min.js：生产版本。程序中使用，没有缩进。体积小一些。程序加载更快</p>
</li>
</ul>
</li>
<li><p><strong>js1.html，注意js文件src路径要书写正确</strong></p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/jquery-3.5.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span> div1...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//根据id 使用Jquery获取元素对象</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div1 = $(<span class="string">&quot;#div1&quot;</span>);</span></span><br><span class="line">    alert(div1.html());</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="3-JQuery对象和JS对象区别与转换"><a href="#3-JQuery对象和JS对象区别与转换" class="headerlink" title="3.JQuery对象和JS对象区别与转换"></a>3.JQuery对象和JS对象区别与转换</h1><ol>
<li>JQuery对象在操作时，更加方便。</li>
<li>JQuery对象和js对象方法不通用的.</li>
<li>两者相互转换<ul>
<li><strong>jq – &gt; js : jq对象[索引] 或者 jq对象.get(索引)</strong></li>
<li><strong>js – &gt; jq : $(js对象)</strong></li>
</ul>
</li>
</ol>
<h1 id="4-选择器"><a href="#4-选择器" class="headerlink" title="4.选择器"></a>4.选择器</h1><ul>
<li><p>筛选具有相似特征的元素（标签）</p>
</li>
<li><p>基本操作</p>
<ol>
<li>事件绑定<pre><code>     //1.获取b1按钮
     $(&quot;#b1&quot;).click(function()&#123;
         alert(&quot;abc&quot;);
     &#125;);</code></pre>
</li>
<li>入口函数</li>
</ol>
<p>​             $(function () {<br>​               </p>
<pre><code>            &#125;);</code></pre>
<p>​             window.onload  和 $(function) 区别</p>
<p>​             window.onload 只能定义一次,如果定义多次，后边的会将前边的覆盖掉。而后者是可以定义多次的。</p>
<ol start="3">
<li>样式控制：css方法<br>// $(“#div1”).css(“background-color”,”red”);<br>$(“#div1”).css(“backgroundColor”,”pink”);</li>
</ol>
</li>
<li><p>分类</p>
<ol>
<li><p><strong>基本选择器</strong></p>
<ol>
<li><p>标签选择器（元素选择器）</p>
<ul>
<li>语法： $(“html标签名”) 获得所有匹配标签名称的元素</li>
</ul>
</li>
<li><p>id选择器 </p>
<ul>
<li>语法： $(“#id的属性值”) 获得与指定8id属性值匹配的元素</li>
</ul>
</li>
<li><p>类选择器</p>
<ul>
<li>语法： $(“.class的属性值”) 获得与指定的class属性值匹配的元素</li>
</ul>
</li>
<li><p>并集选择器：</p>
<ul>
<li>语法： $(“选择器1,选择器2….”) 获取多个选择器选中的所有元素</li>
</ul>
</li>
</ol>
</li>
<li><p><strong>层级选择器</strong></p>
<ol>
<li>后代选择器<ul>
<li>语法： $(“A B “) 选择A元素内部的所有B元素        </li>
</ul>
</li>
<li>子选择器<ul>
<li>语法： $(“A &gt; B”) 选择A元素内部的所有B子元素</li>
</ul>
</li>
</ol>
</li>
<li><p><strong>属性选择器</strong></p>
<ol>
<li>属性名称选择器 <ul>
<li>语法： $(“A[属性名]”) 包含指定属性的选择器</li>
</ul>
</li>
<li>属性选择器<ul>
<li>语法： $(“A[属性名=’值’]”) 包含指定属性等于指定值的选择器</li>
</ul>
</li>
<li>复合属性选择器<ul>
<li>语法： $(“A[属性名=’值’] []…”) 包含多个属性条件的选择器</li>
</ul>
</li>
</ol>
</li>
<li><p><strong>过滤选择器</strong></p>
<ol>
<li><p>首元素选择器 </p>
<ul>
<li>语法：  $(:first ) 获得选择的元素中的第一个元素</li>
</ul>
</li>
<li><p>尾元素选择器 </p>
<ul>
<li>语法： $(:last)  获得选择的元素中的最后一个元素</li>
</ul>
</li>
<li><p>非元素选择器</p>
<ul>
<li><p>语法： $(:not(selector) ) 不包括指定内容的元素</p>
<pre><code>  例如选择class不为one的div：$(div:not(.one))</code></pre>
</li>
</ul>
</li>
<li><p>偶数选择器</p>
<ul>
<li>语法： $(:even) 偶数，从 0 开始计数</li>
</ul>
</li>
<li><p>奇数选择器</p>
<ul>
<li>语法：$( :odd)  奇数，从 0 开始计数</li>
</ul>
</li>
<li><p>等于索引选择器</p>
<ul>
<li>语法：$( :eq(index) ) 指定索引元素</li>
</ul>
</li>
<li><p>大于索引选择器 </p>
<ul>
<li>语法：$( :gt(index) ) 大于指定索引元素</li>
</ul>
</li>
<li><p>小于索引选择器 </p>
<ul>
<li>语法：$( :lt(index) ) 小于指定索引元素</li>
</ul>
</li>
<li><p>标题选择器</p>
<ul>
<li>语法：$( :header)  获得标题（h1~h6）元素，固定写法</li>
</ul>
</li>
</ol>
</li>
<li><p><strong>表单过滤选择器</strong></p>
<ol>
<li>可用元素选择器 <ul>
<li>语法： :enabled 获得可用元素</li>
</ul>
</li>
<li>不可用元素选择器 <ul>
<li>语法： :disabled 获得不可用元素</li>
</ul>
</li>
<li>选中选择器 <ul>
<li>语法： :checked 获得单选/复选框选中的元素</li>
</ul>
</li>
<li>选中选择器 <ul>
<li>语法： :selected 获得下拉框选中的元素</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ul>
<h1 id="5-DOM操作"><a href="#5-DOM操作" class="headerlink" title="5.DOM操作"></a>5.DOM操作</h1><ol>
<li><p><strong>内容操作</strong></p>
<ol>
<li>html(): 获取/设置元素的标签体内容   <code>&lt;a&gt;&lt;font&gt;内容&lt;/font&gt;&lt;/a&gt;</code>  –&gt; <code>&lt;font&gt;内容&lt;/font&gt;</code></li>
<li>text(): 获取/设置元素的标签体纯文本内容   <code>&lt;a&gt;&lt;font&gt;内容&lt;/font&gt;&lt;/a&gt;</code> –&gt; 内容</li>
<li>val()： 获取/设置元素的value属性值</li>
</ol>
</li>
<li><p><strong>属性操作</strong></p>
<ol>
<li><p>通用属性操作</p>
<pre><code>     1. attr(): 获取/设置元素的属性</code></pre>
<ol start="2">
<li>removeAttr():删除属性</li>
<li>prop():获取/设置元素的属性</li>
<li>removeProp():删除属性</li>
</ol>
<ul>
<li>attr和prop区别？<pre><code>  1. 如果操作的是元素的固有属性，则建议使用prop
      2. 如果操作的是元素自定义的属性，则建议使用attr</code></pre>
</li>
</ul>
</li>
<li><p>对class属性操作</p>
<ol>
<li><p>addClass():添加class属性值</p>
</li>
<li><p>removeClass():删除class属性值</p>
</li>
<li><p>toggleClass():切换class属性</p>
<ul>
<li><p>toggleClass(“one”): </p>
</li>
<li><p>判断如果元素对象上存在class=”one”，则将属性值one删除掉。  如果元素对象上不存在class=”one”，则添加</p>
</li>
</ul>
</li>
<li><p>css():</p>
</li>
</ol>
</li>
<li><p>CRUD操作:</p>
<ol>
<li>append():父元素将子元素追加到末尾<pre><code> * 对象1.append(对象2): 将对象2添加到对象1元素内部，并且在末尾</code></pre>
</li>
<li>prepend():父元素将子元素追加到开头<ul>
<li>对象1.prepend(对象2):将对象2添加到对象1元素内部，并且在开头</li>
</ul>
</li>
<li>appendTo():<ul>
<li>对象1.appendTo(对象2):将对象1添加到对象2内部，并且在末尾</li>
</ul>
</li>
<li>prependTo()：<ul>
<li>对象1.prependTo(对象2):将对象1添加到对象2内部，并且在开头</li>
</ul>
</li>
<li>after():添加元素到元素后边<ul>
<li>对象1.after(对象2)： 将对象2添加到对象1后边。对象1和对象2是兄弟关系</li>
</ul>
</li>
<li>before():添加元素到元素前边<ul>
<li>对象1.before(对象2)： 将对象2添加到对象1前边。对象1和对象2是兄弟关系</li>
</ul>
</li>
<li>insertAfter()<ul>
<li>对象1.insertAfter(对象2)：将对象1添加到对象2后边。对象1和对象2是兄弟关系</li>
</ul>
</li>
<li>insertBefore()<ul>
<li>对象1.insertBefore(对象2)： 将对象1添加到对象2前边。对象1和对象2是兄弟关系</li>
</ul>
</li>
<li>remove():移除元素<ul>
<li>对象.remove():将对象删除掉</li>
</ul>
</li>
<li>empty():清空元素的所有后代元素。<ul>
<li>对象.empty():将对象的后代元素全部清空，但是保留当前对象以及其属性节点</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h1 id="6-动画：三种方式显示和隐藏元素"><a href="#6-动画：三种方式显示和隐藏元素" class="headerlink" title="6.动画：三种方式显示和隐藏元素"></a>6.动画：三种方式显示和隐藏元素</h1><ol>
<li><p><strong>默认显示和隐藏方式</strong></p>
<ol>
<li>show([speed,[easing],[fn]])<ol>
<li>speed：动画的速度。三个预定义的值(“slow”,”normal”, “fast”)或表示动画时长的毫秒数值(如：1000)</li>
<li>easing：用来指定切换效果，默认是”swing”，可用参数”linear”<ul>
<li>swing：动画执行时效果是 先慢，中间快，最后又慢<ul>
<li>linear：动画执行时速度是匀速的</li>
</ul>
</li>
</ul>
</li>
<li>fn：在动画完成时执行的函数，每个元素执行一次。</li>
</ol>
</li>
<li>hide([speed,[easing],[fn]])</li>
<li>toggle([speed],[easing],[fn])</li>
</ol>
</li>
<li><p><strong>滑动显示和隐藏方式</strong></p>
<pre><code>     1. slideDown([speed],[easing],[fn])</code></pre>
<ol start="2">
<li>slideUp([speed,[easing],[fn]])</li>
<li>slideToggle([speed],[easing],[fn])</li>
</ol>
</li>
<li><p><strong>淡入淡出显示和隐藏方式</strong></p>
<pre><code>1. fadeIn([speed],[easing],[fn])
2. fadeOut([speed],[easing],[fn])
3. fadeToggle([speed,[easing],[fn]])</code></pre>
</li>
</ol>
<h1 id="7-遍历"><a href="#7-遍历" class="headerlink" title="7.遍历"></a>7.遍历</h1><ol>
<li>js的遍历方式    <ul>
<li>for(初始化值;循环结束条件;步长)</li>
</ul>
</li>
<li>jq的遍历方式<ol>
<li>jq对象.each(callback)<pre><code> 1. 语法：jquery对象.each(function(index,element)&#123;&#125;);
       * index:就是元素在集合中的索引
 * element：就是集合中的每一个元素对象
  * this：集合中的每一个元素对象</code></pre>
</li>
</ol>
</li>
<li>回调函数返回值： <ul>
<li>true:如果当前function返回为false，则结束循环(break)。</li>
<li>false:如果当前function返回为true，则结束本次循环，继续下次循环(continue)</li>
</ul>
</li>
<li>$.each(object, [callback])</li>
<li>for..of: jquery 3.0 版本之后提供的方式<br> for(元素对象 of 容器对象)</li>
</ol>
<h1 id="8-事件绑定"><a href="#8-事件绑定" class="headerlink" title="8.事件绑定"></a>8.事件绑定</h1><ol>
<li><p>jquery标准的绑定方式</p>
<ul>
<li>jq对象.事件方法(回调函数)；</li>
<li>注：如果调用事件方法，不传递回调函数，则会触发浏览器默认行为。<ul>
<li>表单对象.submit();//让表单提交</li>
</ul>
</li>
</ul>
</li>
<li><p>on绑定事件/off解除绑定</p>
<pre><code> * jq对象.on(&quot;事件名称&quot;,回调函数)</code></pre>
<ul>
<li>jq对象.off(“事件名称”)<ul>
<li>如果off方法不传递任何参数，则将组件上的所有事件全部解绑</li>
</ul>
</li>
</ul>
</li>
<li><p>事件切换：toggle</p>
<pre><code> * jq对象.toggle(fn1,fn2...)
     * 当单击jq对象对应的组件后，会执行fn1.第二次点击会执行fn2.....

 * 注意：1.9版本 .toggle() 方法删除,jQuery Migrate（迁移）插件可以恢复此功能。

      &lt;script src=&quot;../js/jquery-migrate-1.0.0.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</code></pre>
</li>
</ol>
<h1 id="9-插件：增强Jquery的功能"><a href="#9-插件：增强Jquery的功能" class="headerlink" title="9.插件：增强Jquery的功能"></a>9.插件：增强Jquery的功能</h1><ol>
<li>实现方式：<ol>
<li>$.fn.extend(object) <pre><code> * 增强通过Jquery获取的对象的功能  $(&quot;#id&quot;)</code></pre>
</li>
<li>$.extend(object)<ul>
<li>增强JQeury对象自身的功能  $/jQuery</li>
</ul>
</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/25/JQuery%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/" data-id="cknhe7bus001kows62si1bhg6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-利用过滤器和动态代理过滤敏感词" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/24/%E5%88%A9%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E8%BF%87%E6%BB%A4%E6%95%8F%E6%84%9F%E8%AF%8D/" class="article-date">
  <time datetime="2021-03-24T13:01:52.000Z" itemprop="datePublished">2021-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/24/%E5%88%A9%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E8%BF%87%E6%BB%A4%E6%95%8F%E6%84%9F%E8%AF%8D/">利用过滤器和动态代理过滤敏感词</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><ul>
<li>当客户端中包含敏感词时，服务器端资源使用requst.getParameter获取参数值时，要先在过滤器中利用动态代理对象处理接收到的参数值后放行。</li>
<li>例如：敏感词包括  笨蛋  蠢，服务器端有testServlet资源，当客户端输入<a target="_blank" rel="noopener" href="http://localhost:8080/testServlet?msg=%E7%AC%A8%E8%9B%8B%E5%90%A7">http://localhost:8080/testServlet?msg=笨蛋吧</a> ，在服务器端中的过滤器中利用动态代理对象 将敏感次替换为***，然后进行后续处理</li>
</ul>
<p>SensitiveWordFilter.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(&quot;/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SensitiveWordFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest req, ServletResponse resp, FilterChain chain)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建动态代理对象，增强getParameter方法</span></span><br><span class="line">        ServletRequest proxy_req = (ServletRequest) Proxy.newProxyInstance(req.getClass().getClassLoader(), req.getClass().getInterfaces(), <span class="keyword">new</span> InvocationHandler() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                <span class="comment">//增强getParameter方法</span></span><br><span class="line">                <span class="comment">//判断是否是getParameter方法</span></span><br><span class="line">                <span class="keyword">if</span> (method.getName().equals(<span class="string">&quot;getParameter&quot;</span>))&#123;</span><br><span class="line">                    <span class="comment">//调用目标对象的getParameter,增强返回值</span></span><br><span class="line">                    String res = (String) method.invoke(req, args);<span class="comment">//将目标对象传递进去</span></span><br><span class="line">                    <span class="keyword">if</span> (res!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                     <span class="comment">//遍历敏感词列表</span></span><br><span class="line">                        <span class="keyword">for</span> (String str : list) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (res.contains(str))&#123;</span><br><span class="line">                                 res = res.replaceAll(str, <span class="string">&quot;***&quot;</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//返回增强后的值给request.getParameter(str)</span></span><br><span class="line">                    <span class="keyword">return</span> res;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span>  method.invoke(req, args);<span class="comment">//当不执行getParameter方法时，仅执行method.invoke</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//传递req的代理对象</span></span><br><span class="line">        chain.doFilter(proxy_req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//定义一个敏感词集合</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig config)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//获取文件的真实路径，加载文件</span></span><br><span class="line">            ServletContext servletContext = config.getServletContext();</span><br><span class="line">            String realPath = servletContext.getRealPath(<span class="string">&quot;/WEB-INF/classes/敏感词.txt&quot;</span>);</span><br><span class="line">            <span class="comment">//读取文件</span></span><br><span class="line">            InputStreamReader inputStreamReader = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(realPath), <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">            BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(inputStreamReader);</span><br><span class="line">            <span class="comment">//将每一行的数据添加到集合中</span></span><br><span class="line">            String line = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">while</span> ((line = bufferedReader.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                list.add(line);</span><br><span class="line">            &#125;</span><br><span class="line">            bufferedReader.close();</span><br><span class="line">            System.out.println(list);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>testServlet.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/testServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//通过Proxy_req对象调用getParameter方法，这里的request是Filter放行后的代理对象proxy_req</span></span><br><span class="line">        String msg = request.getParameter(<span class="string">&quot;msg&quot;</span>);</span><br><span class="line">        System.out.println(msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/24/%E5%88%A9%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E8%BF%87%E6%BB%A4%E6%95%8F%E6%84%9F%E8%AF%8D/" data-id="cknhe7bws005pows69ya8ekl5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-代理模式Proxy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/23/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8FProxy/" class="article-date">
  <time datetime="2021-03-23T03:53:15.000Z" itemprop="datePublished">2021-03-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/23/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8FProxy/">代理模式Proxy</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-代理模式（Proxy）"><a href="#1-代理模式（Proxy）" class="headerlink" title="1.代理模式（Proxy）"></a>1.代理模式（Proxy）</h1><ol>
<li><p>代理模式：为一个对象提供一个替身，以控制对这个对象的访问。即<strong>通过代理对象访问目标对象</strong>。这样做的好处是：可以在目标对象实现的基础上，增强额外的功能操作，即<strong>扩展目标对象的功能</strong></p>
</li>
<li><p>被代理的对象可以是<strong>远程对象、创建开销大的对象或需要安全控制的对象</strong></p>
</li>
<li><p>代理模式有不同的形式，主要有三种：<strong>静态代理、动态代理（JDK代理、接口代理）、Cglib代理（可以在内存动态的创建对象，而不需要实现接口，属于动态代理范畴）</strong></p>
</li>
</ol>
<h1 id="2-静态代理"><a href="#2-静态代理" class="headerlink" title="2.静态代理"></a>2.静态代理</h1><ol>
<li><p>基本介绍：</p>
<p>静态代理在使用时，需要定义接口或者父类，被代理对象（即目标对象）与代理对象一起实现相同的接口或者是继承相同父类。</p>
</li>
<li><p>静态代理优缺点</p>
<p>优点：在不修改目标对象的功能前提下，能通过代理对象对目标功能扩展</p>
<p>缺点：因为代理对象需要与目标对象实现一样的接口，所以会有很多代理类</p>
<p>​            一旦接口增加方法，目标对象与代理对象都要维护</p>
</li>
<li><p>应用实例</p>
<ul>
<li><p>具体要求</p>
<p>1）定义一个接口：ITeacherDao</p>
<p>2）目标对象TeacherDao实现接口 ITeacherDao</p>
<p>3）使用静态代理方式，就需要在代理对象TeacherDaoProxy中也实现ITeacherDao</p>
<p>4）调用的时候通过代理对象的方法来调用目标对象</p>
<p>注意：代理对象与目标对象要实现相同的接口，然后通过调用相同的方法来调用目标对象的方法。</p>
</li>
<li><p>类图</p>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/%E4%BB%A3%E7%90%862.PNG"></p>
</li>
<li><p>具体代码</p>
<p><strong>ITeacherDao接口</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ITeacherDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>TeacherDao 目标对象的类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TeacherDao</span> <span class="keyword">implements</span> <span class="title">ITeacherDao</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;授课中...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>TeacherDaoProxy 代理对象类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TeacherDaoProxy</span> <span class="keyword">implements</span> <span class="title">ITeacherDao</span></span>&#123;</span><br><span class="line">    <span class="comment">//通过接口来聚合</span></span><br><span class="line">    <span class="keyword">private</span> ITeacherDao target;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造器，参数应该传入ITeacherDao的实现类对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TeacherDaoProxy</span><span class="params">(ITeacherDao target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;开始代理...&quot;</span>);</span><br><span class="line">        target.teach();<span class="comment">//执行目标对象的teach方法java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;提交...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ProxyTest 测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建目标对象(被代理对象)</span></span><br><span class="line">        TeacherDao teacherDao = <span class="keyword">new</span> TeacherDao();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建代理对象,将目标对象（被代理对象）传递给代理对象</span></span><br><span class="line">        ITeacherDao teacherDaoProxy = <span class="keyword">new</span> TeacherDaoProxy(teacherDao);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过代理对象，调用到被代理对象的方法</span></span><br><span class="line">        <span class="comment">//执行的是代理对象的方法，代理对象在去调用目标对象的方法</span></span><br><span class="line">        teacherDaoProxy.teach();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<h1 id="3-动态代理"><a href="#3-动态代理" class="headerlink" title="3.动态代理"></a>3.动态代理</h1><ol>
<li><p>基本介绍</p>
<ul>
<li>代理对象，不需要实现接口，但是目标对象要实现接口，否则不能用动态代理</li>
<li>代理对象的生成：是利用JDK的API，<strong>动态的在内存中构建代理对象</strong></li>
<li>动态代理也叫：JDK代理、接口代理</li>
</ul>
</li>
<li><p>JDK中生成代理对象的API</p>
<ul>
<li><p>代理类所在包：import java.lang.reflect.Proxy;</p>
</li>
<li><p>JDK实现构建代理只需要使用Proxy.newProxyInstance方法，有三个参数</p>
<p>​    ClassLoader loader：指定当前目标对象使用的类加载器，<strong>真实对象.getClass().getClassLoader()</strong><br>​    Class&lt;?&gt;[] interfaces：目标对象实现的接口类型，<strong>真实对象.getClass().getInterfaces()</strong><br>​    InvocationHandler h：事件处理，执行代理对象方法时会触发事情处理器方法，<strong>new InvocationHander()</strong></p>
</li>
</ul>
</li>
<li><p>具体实例</p>
<p>SaleComputer 接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SaleComputer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sale</span><span class="params">(<span class="keyword">double</span> money)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Lenovo 目标对象（被代理对象）类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Lenovo</span> <span class="keyword">implements</span> <span class="title">SaleComputer</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;展示电脑....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sale</span><span class="params">(<span class="keyword">double</span> money)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;花&quot;</span>+money+<span class="string">&quot;买了电脑&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;联想电脑&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>抽取一个ProxyFactory 类：获取动态代理对象</p>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span> <span class="title">ProxyFactory</span> &lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//目标对象  T泛指目标对象所实现的接口类型</span></span><br><span class="line"> <span class="keyword">private</span> T target;</span><br><span class="line">    <span class="comment">//在构造器中使用泛型 传递任意类型目标对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProxyFactory</span><span class="params">(T target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getProxyInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), <span class="keyword">new</span> InvocationHandler() &#123;</span><br><span class="line">            <span class="comment">/*代理逻辑编写的方法，代理对象调用所有方法都会触发该方法执行</span></span><br><span class="line"><span class="comment">             *   参数：</span></span><br><span class="line"><span class="comment">             *       1.proxy:代理对象</span></span><br><span class="line"><span class="comment">             *       2.method:代理对象调用的方法，被封装为Method对象</span></span><br><span class="line"><span class="comment">             *       3.args:代理对象调用方法时，传递的实际参数</span></span><br><span class="line"><span class="comment">             * */</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                <span class="comment">//</span></span><br><span class="line">                System.out.println(<span class="string">&quot;代理器执行了...&quot;</span>);</span><br><span class="line">                <span class="comment">//判断是否是sale方法</span></span><br><span class="line">                <span class="keyword">if</span>(method.getName().equals(<span class="string">&quot;sale&quot;</span>))&#123;</span><br><span class="line">                    <span class="comment">//增强参数</span></span><br><span class="line">                    <span class="keyword">double</span> money = (<span class="keyword">double</span>)args[<span class="number">0</span>];</span><br><span class="line">                    money = money * <span class="number">0.85</span>;</span><br><span class="line">                    <span class="comment">//使用真实对象调用该方法</span></span><br><span class="line">                    String obj = (String) method.invoke(target, money);</span><br><span class="line">                    System.out.println(<span class="string">&quot;代理器提交...&quot;</span>);</span><br><span class="line">                    <span class="comment">//增强返回值类型</span></span><br><span class="line">                    <span class="keyword">return</span> obj+<span class="string">&quot;_鼠标_鼠标垫&quot;</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    Object res = method.invoke(target, args);<span class="comment">//利用反射机制，使用method对象执行目标对象的方法</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;代理器提交...&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span> res;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   ProxyTest 测试类</p>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建真实对象Lenovo</span></span><br><span class="line">        Lenovo lenovo = <span class="keyword">new</span> Lenovo();</span><br><span class="line">        <span class="comment">//创建ProxyFactory对象</span></span><br><span class="line">        SaleComputer proxyInstance = (SaleComputer) <span class="keyword">new</span> ProxyFactory&lt;SaleComputer&gt;(lenovo).getProxyInstance();</span><br><span class="line">        <span class="comment">//使用代理对象调用方法</span></span><br><span class="line">        proxyInstance.show();</span><br><span class="line">        String res = proxyInstance.sale(<span class="number">8000</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">代理器执行了...</span><br><span class="line">展示电脑....</span><br><span class="line">代理器提交...</span><br><span class="line">代理器执行了...</span><br><span class="line">花6800.0买了电脑</span><br><span class="line">联想电脑_鼠标_鼠标垫</span><br><span class="line">代理器提交...</span><br></pre></td></tr></table></figure>



<h1 id="4-Cglib代理"><a href="#4-Cglib代理" class="headerlink" title="4.Cglib代理"></a>4.Cglib代理</h1><ol>
<li><p><strong>基本介绍</strong></p>
<p>1）静态代理和JDK代理模式都要求目标对象是实现一个接口，但是有时候目标对象只是一个单独的对象，并           没有实现任何的接口，这个时候可以使用目标对象子类来实现代理——这就是Cglib代理</p>
<p>2）Cglib代理也叫做子类代理，它是在内存中构建一个子类对象从而实现对目标对象功能扩展，有时候也将      Cglib代理归属到动态代理</p>
<p>3）Cglib是一个强大的高性能的代码生成包，它可以在运行期扩展Java类与实现Java接口。它广泛的被许多      AOP的框架使用，例如Spring AOP，实现方法拦截</p>
<p>4）在AOP编程中如何选择代理模式</p>
<p>​       目标对象需要实现接口，用JDK代理</p>
<p>​       目标对象不需要实现接口，用Cglib代理</p>
<p>5）Cglib包的底层是通过使用**字节码处理框架(ASM)**来转换字节码并生成新的类</p>
</li>
<li><p>Cglib代理模式实现步骤</p>
<p>1）可以自己下载Cglib和asm的jar包，</p>
<p>​       下载链接：<a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/cglib/cglib/3.3.0">https://mvnrepository.com/artifact/cglib/cglib/3.3.0</a></p>
<p>​                          <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.ow2.asm">https://mvnrepository.com/artifact/org.ow2.asm</a></p>
<p>​        所需要下载的jar包：asm.jar    asm-commons.jar    asm-tree.jar   cglib.jar</p>
<p>​       <strong>也可以使用Spring-core.jar中的org.springframework.cglib</strong>               </p>
<p>2）在内存中动态构建子类，注意代理的类不能为final，否则报错java.lang.IllegalArgumentException;</p>
<p>3）目标对象的方法如果是<strong>final/static</strong>，那么就不会被拦截，即不会执行目标对象额外的业务方法。</p>
</li>
<li><p>具体实例</p>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/%E4%BB%A3%E7%90%863.PNG"></p>
</li>
</ol>
<p>TeacherDao：被代理对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TeacherDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;授课中....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ProxyFactory：用来获取代理对象，其中getProxyFactory()给目标对象targe创建一个代理对象。intecept是实现MethodInterceptor接口中的方法，实现对被代理对象方法的调用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.cglib.proxy.Enhancer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cglib.proxy.MethodInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cglib.proxy.MethodProxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyFactory</span> <span class="keyword">implements</span> <span class="title">MethodInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//维护一个目标对象</span></span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line">    <span class="comment">//传入被代理对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProxyFactory</span><span class="params">(Object target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回一个target的代理对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getProxyInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//创建一个工具类</span></span><br><span class="line">        Enhancer enhancer = <span class="keyword">new</span> Enhancer();</span><br><span class="line">        <span class="comment">//设置父类</span></span><br><span class="line">        enhancer.setSuperclass(target.getClass());</span><br><span class="line">        <span class="comment">//设置回调函数</span></span><br><span class="line">        enhancer.setCallback(<span class="keyword">this</span>);</span><br><span class="line">        <span class="comment">//创建子类即代理对象</span></span><br><span class="line">        <span class="keyword">return</span> enhancer.create();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重写intercept方法，会调用目标对象的方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">intercept</span><span class="params">(Object o, Method method, Object[] args, MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Cglib代理模式开始&quot;</span>);</span><br><span class="line">        Object val = method.invoke(target, args);</span><br><span class="line">        System.out.println(<span class="string">&quot;Cglib代理提交&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>client:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建目标对象</span></span><br><span class="line">        TeacherDao teacherDao = <span class="keyword">new</span> TeacherDao();</span><br><span class="line">        <span class="comment">//创建ProxyFactory,传递目标对象，并获取代理对象</span></span><br><span class="line">        TeacherDao proxyInstance = (TeacherDao) <span class="keyword">new</span> ProxyFactory(teacherDao).getProxyInstance();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//执行代理对象的方法，触发intercept方法，实现对目标对象的注入</span></span><br><span class="line">        proxyInstance.teach();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="5-Proxy代理模式的变体"><a href="#5-Proxy代理模式的变体" class="headerlink" title="5. Proxy代理模式的变体"></a>5. Proxy代理模式的变体</h1><p>几种常见的代理模式介绍</p>
<p>1）<strong>防火墙代理</strong></p>
<p>​    内网通过代理穿透防火墙，实现对公网的访问</p>
<p>2）<strong>缓存代理</strong></p>
<p>​    比如：当请求图片文件等资源时，先到缓存代理取，如果取到资源则OK，如果取不到资源，再到公网或者数据库取，然后缓存。</p>
<p>3）<strong>远程代理</strong></p>
<p>​      远程对象的本地代表，通过它可以把远程对象当本地对象来调用。远程代理通过网络和真正的远程对象沟通信息。</p>
<p>4）<strong>同步代理</strong></p>
<p>​     主要使用再多线程编程中，完成多线程间同步工作</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/23/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8FProxy/" data-id="cknhe7bwi0050ows6axy70j24" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">Java设计模式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Fileter过滤器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/22/Fileter%E8%BF%87%E6%BB%A4%E5%99%A8/" class="article-date">
  <time datetime="2021-03-22T01:09:23.000Z" itemprop="datePublished">2021-03-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/22/Fileter%E8%BF%87%E6%BB%A4%E5%99%A8/">Fileter过滤器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-基本定义"><a href="#1-基本定义" class="headerlink" title="1. 基本定义"></a>1. 基本定义</h1><ol>
<li>过滤器的作用<ul>
<li>一般用于完成通用操作。如登陆验证、同意编码处理、敏感字符过滤</li>
</ul>
</li>
<li>快速入门<ul>
<li>定义一个类，实现接口Filter，包为javax.servlet</li>
<li>复写方法doFilter</li>
<li>配置拦截路径：配置web.xml或注解配置</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(&quot;/*&quot;)</span><span class="comment">//注解配置，访问所有资源之前，都会执行该过滤器</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FilterDemo1</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;过滤器。。。。&quot;</span>);</span><br><span class="line">        <span class="comment">//放行</span></span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-过滤器细节"><a href="#2-过滤器细节" class="headerlink" title="2. 过滤器细节"></a>2. 过滤器细节</h1><h2 id="2-1-web-xml配置"><a href="#2-1-web-xml配置" class="headerlink" title="2.1 web.xml配置"></a>2.1 web.xml配置</h2><ul>
<li>在web.xml中的web-app标签体内加入下面代码</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>cn.hxx.web.FilterDemo1<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--拦截路径--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>WebFilter注解源码：@webFilter用于将注解过滤器，该注解在部署时被容器处理，容器根据具体的属性将相应的类部署为过滤器。该注解有以下属性，均有默认值。但是value、urlPatterns、servletNames三者至少包含一个，且value和urlPatterns一般不要同时赋值，如果同时指定，通常忽略value的取值</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> WebFilter &#123;</span><br><span class="line">    <span class="function">String <span class="title">description</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;<span class="comment">//该过滤器的描述信息，等价与&lt;description&gt;标签</span></span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">displayName</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;<span class="comment">//该过滤器的显示名，通常配合工具使用，等价与&lt;displayName&gt;标签</span></span><br><span class="line"></span><br><span class="line">    WebInitParam[] initParams() <span class="keyword">default</span> &#123;&#125;;<span class="comment">//指定一组过滤器初始化参数,等价于&lt;init-param&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">filterName</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;<span class="comment">//指定过滤器的name属性，等价于&lt;filter-name&gt;属性</span></span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">smallIcon</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">largeIcon</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    String[] servletNames() <span class="keyword">default</span> &#123;&#125;;<span class="comment">//指定过滤器将应用于哪些servlet。取值是@WebServlet中的name属性的取值，或者是web.xml中&lt;servlet-name&gt;的取值</span></span><br><span class="line"></span><br><span class="line">    String[] value() <span class="keyword">default</span> &#123;&#125;;<span class="comment">//等价于urlPatterns</span></span><br><span class="line"></span><br><span class="line">    String[] urlPatterns() <span class="keyword">default</span> &#123;&#125;;<span class="comment">//指定一组过滤器的URL匹配模式，等价于&lt;url-pattern&gt;标签</span></span><br><span class="line"></span><br><span class="line">    DispatcherType[] dispatcherTypes() <span class="keyword">default</span> &#123;DispatcherType.REQUEST&#125;;<span class="comment">//指定过滤器的转发模式，包括：ASYNC、ERROR、FORWORD、INCLUDE、REQUEST</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">asyncSupported</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">false</span></span>;<span class="comment">//声明过滤器是否支持异步操作模式，等价于&lt;async-support&gt;标签</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-2过滤器执行流程"><a href="#2-2过滤器执行流程" class="headerlink" title="2.2过滤器执行流程"></a>2.2过滤器执行流程</h2><p>客户端请求A资源，先执行过滤器放行之前的代码，过滤器放行后执行A资源，然后执行放行代码下的程序</p>
<ol>
<li><p>执行过滤器</p>
</li>
<li><p>执行放行后的资源</p>
</li>
<li><p>执行过滤器放行代码下的代码</p>
</li>
</ol>
<h2 id="2-3过滤器生命周期方法"><a href="#2-3过滤器生命周期方法" class="headerlink" title="2.3过滤器生命周期方法"></a>2.3过滤器生命周期方法</h2><ol>
<li><p>init方法：服务器启动后，会创建Filter对象，然后调用init方法。用于加载资源</p>
</li>
<li><p>dofilter方法：每一次请求被拦截资源时，会执行该方法</p>
</li>
<li><p>destroy方法：服务器正常关闭，Filter对象被销毁，会执行destroy方法。用于释放资源</p>
</li>
</ol>
<h2 id="2-4过滤器配置详解"><a href="#2-4过滤器配置详解" class="headerlink" title="2.4过滤器配置详解"></a>2.4过滤器配置详解</h2><ol>
<li><p><strong>拦截路径的配置</strong></p>
<ul>
<li><p><strong>配置1</strong>：具体的资源路径：/index.jsp 或   /findServlet 只有访问该资源时，过滤器才会被执行</p>
</li>
<li><p><strong>配置2</strong>：目录拦截：/user/*   访问/user下的所有资源时，过滤器都会被执行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/user/CheckCodeServlet&quot;)</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/user/failServlet&quot;)</span></span><br><span class="line"><span class="comment">//在web目录下还可以建立user子目录，里面也可以存放资源</span></span><br><span class="line"><span class="meta">@WebFilter(&quot;/user/*&quot;)</span></span><br><span class="line"><span class="comment">//访问servlet和访问user目录下的资源都会执行该过滤器</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>配置3</strong>：后缀名拦截：*.jsp   访问所有后缀名为jsp资源时，过滤器都会被执行</p>
</li>
<li><p><strong>配置4</strong>：/*   拦截所有资源</p>
</li>
</ul>
</li>
<li><p><strong>拦截方式的配置：资源被访问的方式</strong></p>
<ul>
<li><p><strong>配置1</strong>：注解配置dispatcherTypes，数组，可配置多个选项 </p>
<p>(1) REQUEST：默认值，浏览器直接请求资源</p>
<p>(2) FORWARD：转发访问资源</p>
<p>(3) INCLUDE：包含访问资源</p>
<p>(4) ERROR：错误跳转资源</p>
<p>(5) ASYNC：异步访问资源</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(value = &quot;/index.jsp&quot;,dispatcherTypes = &#123;DispatcherType.REQUEST,DispatcherType.FORWARD&#125;)</span>java</span><br><span class="line"><span class="comment">//转发到index.jsp 和 直接访问index.jsp 都会执行该过滤器</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h2 id="2-5过滤器链（配置多个过滤器）"><a href="#2-5过滤器链（配置多个过滤器）" class="headerlink" title="2.5过滤器链（配置多个过滤器）"></a>2.5过滤器链（配置多个过滤器）</h2><ul>
<li><p>执行顺序：有两个过滤器：过滤器1、过滤器2</p>
<ol>
<li>过滤器1</li>
<li>过滤器2</li>
<li>资源</li>
<li>过滤器2</li>
<li>过滤器1</li>
</ol>
</li>
<li><p><strong>过滤器先后顺序</strong></p>
<ol>
<li><p><strong>注解配置：按照类名的字符串比较规则比较，值小的先执行</strong></p>
<p>如：AFilter  和  BFilter</p>
</li>
<li><p><strong>web.xml配置：filter-mapping谁定义在上面，谁先执行</strong></p>
</li>
</ol>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/22/Fileter%E8%BF%87%E6%BB%A4%E5%99%A8/" data-id="cknhe7bua000kows6fop96wqb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-三层架构" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/02/%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84/" class="article-date">
  <time datetime="2021-03-02T03:40:48.000Z" itemprop="datePublished">2021-03-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/02/%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84/">三层架构</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="三层架构：软件设计架构"><a href="#三层架构：软件设计架构" class="headerlink" title="三层架构：软件设计架构"></a>三层架构：软件设计架构</h1><ol>
<li>界面层（表示层/web层）：用户看到的界面，用户可以通过界面上的组件和服务器进行交互<ul>
<li>控制器：servlet，接收用户的请求，获取用户提交的参数信息，将数据封装，然后调用业务逻辑层、数据访问层，将得到的数据转发到sp页面，给客户端做出响应。</li>
<li>包的命名：cn.项目名.web</li>
<li>对应框架：SpringMVC框架</li>
</ul>
</li>
<li>业务逻辑层（service层）：处理业务逻辑。组合Dao层中的简单方法，形成复杂的功能（业务逻辑操作）<ul>
<li>包的命名：cn.项目名.service</li>
<li>对应框架：Spring框架</li>
</ul>
</li>
<li>数据访问层(Dao层)：操作数据存储文件，Data Access Object。定义了对数据库最基本的CRUD操作<ul>
<li>包的命名：cn.项目名.Dao</li>
<li>对应框架：MyBatis框架</li>
</ul>
</li>
</ol>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/02/%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84/" data-id="cknhe7bwg004uows604dag0t8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JSTL标签库" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/01/JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/" class="article-date">
  <time datetime="2021-03-01T12:08:07.000Z" itemprop="datePublished">2021-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/01/JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/">JSTL标签库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h1><ol>
<li>JavaServer Pages Tag Library （JSP标准标签库）</li>
<li>用于简化和替换jsp页面上的Java代码</li>
<li>使用<ul>
<li>导入jstl相关jar包</li>
<li>引入标签库：&lt;%@ taglib prefix=”c” uri=”<a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/core&quot;">http://java.sun.com/jsp/jstl/core&quot;</a> %&gt;</li>
</ul>
</li>
</ol>
<h1 id="2-常用的JSTL标签"><a href="#2-常用的JSTL标签" class="headerlink" title="2.常用的JSTL标签"></a>2.常用的JSTL标签</h1><ol>
<li><p>if：相当于Java代码的if</p>
<ul>
<li>test属性：必须属性 接收Boolean表达式，如果表达式为true则显示if标签体内容，为false则不显示。<strong>一般情况下，test属性值会和EL表达式一起使用</strong></li>
</ul>
</li>
<li><p>choose：相当于switch</p>
<ul>
<li>案例：完成数字编号对应星期几案例</li>
</ul>
<p>​            1.域中存储一数字<br>​            2.使用choose标签取出数字 ，相当于switch<br>​            3.使用when标签做数字判断，相当于case<br>​            4.otherwise标签做其他情况的声明，相当于default</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	request.setAttribute(<span class="string">&quot;day&quot;</span>,<span class="number">54</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;day==1&#125;&quot;&gt;星期一&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;day==2&#125;&quot;&gt;星期二&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;day==3&#125;&quot;&gt;星期三&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;day==4&#125;&quot;&gt;星期四&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;day==5&#125;&quot;&gt;星期五&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;day==6&#125;&quot;&gt;星期六&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;day==7&#125;&quot;&gt;星期七&lt;/c:when&gt;</span><br><span class="line">    &lt;c:otherwise&gt;输入有误&lt;/c:otherwise&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>foreach：相当于for</p>
<ul>
<li>完成重复操作</li>
</ul>
<p>​            begin：开始值<br>​            end：结束值<br>​            var：临时变量<br>​            step：步长<br>​            varStatus:循环状态对象<br>​                index：容器中元素索引，从0开始<br>​                count：循环次数，从1开始</p>
<ul>
<li>遍历容器</li>
</ul>
<p>​           items：容器对象<br>​           var：容器中元素的临时变量<br>​           varStatus</p>
</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:forEach begin=<span class="string">&quot;1&quot;</span> end=<span class="string">&quot;10&quot;</span> step=<span class="string">&quot;2&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;i&quot;</span> varStatus=<span class="string">&quot;s&quot;</span>&gt;</span><br><span class="line">    $&#123;i&#125;</span><br><span class="line">    &lt;h3&gt;$&#123;s.index&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;h4&gt;$&#123;s.count&#125;&lt;/h4&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">    List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    list.add(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;list&quot;</span>,list);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;c:forEach items=<span class="string">&quot;$&#123;requestScope.list&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;str&quot;</span> varStatus=<span class="string">&quot;s&quot;</span>&gt;</span><br><span class="line">    $&#123;str&#125;</span><br><span class="line">    &lt;h3&gt;$&#123;s.index&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;h4&gt;$&#123;s.count&#125;&lt;/h4&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>

<h1 id="3-案例"><a href="#3-案例" class="headerlink" title="3.案例"></a>3.案例</h1><p>将用户信息全部显示在表格中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        List list &#x3D; new ArrayList();</span><br><span class="line">        list.add(new User(&quot;hxx&quot;,new Date()));</span><br><span class="line">        list.add(new User(&quot;qzy&quot;,new Date()));</span><br><span class="line">        request.setAttribute(&quot;list&quot;,list);</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;table border&#x3D;&quot;1&quot; width&#x3D;&quot;500px&quot; align&#x3D;&quot;center&quot;&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;编号&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;td&gt;姓名&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;td&gt;生日&lt;&#x2F;td&gt;</span><br><span class="line">        &lt;&#x2F;tr&gt;</span><br><span class="line">        &lt;%--数据行--%&gt;</span><br><span class="line">        &lt;c:forEach items&#x3D;&quot;$&#123;list&#125;&quot; var&#x3D;&quot;user&quot; varStatus&#x3D;&quot;s&quot;&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;$&#123;s.count&#125;&lt;&#x2F;td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.name&#125;&lt;&#x2F;td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.birStr&#125;&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">        &lt;&#x2F;c:forEach&gt;</span><br><span class="line">    &lt;&#x2F;table&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/01/JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/" data-id="cknhe7buu001qows61xn58df9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-EL表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/01/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="article-date">
  <time datetime="2021-03-01T07:44:25.000Z" itemprop="datePublished">2021-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/01/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/">EL表达式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h1><ol>
<li><p>Expression Language 表达式语言</p>
</li>
<li><p>作用：替换和简化jsp页面中Java代码的编写</p>
</li>
<li><p>语法：${  EL表达式 }</p>
</li>
<li><p>注意：jsp默认支持EL表达式，可以设置不解析表达式</p>
<p>方法一：设置jsp中page指令中的：isELIgonred=”true”，忽略当前jsp页面中的所有EL表达式</p>
<p>方法二： <code>\$&#123;EL表达式&#125;</code> 忽略当前这个EL表达式</p>
</li>
</ol>
<h1 id="2-EL运算符"><a href="#2-EL运算符" class="headerlink" title="2.EL运算符"></a>2.EL运算符</h1><ol>
<li><p>算术运算符：+  -  *   /(div)   %(mod)</p>
</li>
<li><p>比较运算符：&gt; &lt;    &gt;=  &lt;=   ==   !=</p>
</li>
<li><p>逻辑运算符：&amp;&amp;(and)    ||(or)    !(not)</p>
</li>
<li><p><strong>空运算符：empty  用于判断字符串、集合、数组对象是否为null并且长度是否为0</strong></p>
<p> <code>$&#123;empty str&#125;</code></p>
<p> <code>$&#123;not empty str&#125;</code></p>
</li>
</ol>
<h1 id="3-EL获取值"><a href="#3-EL获取值" class="headerlink" title="3.EL获取值"></a>3.EL获取值</h1><ol>
<li><p>EL表达式只能从域对象中获取值</p>
</li>
<li><p>**语法一：${域名称.键名}**，从指定域中获取指定键的值，如果获取不到则不会显示任何内容（空字符串）</p>
<ul>
<li><p>pageScope——-&gt;pageContext域</p>
</li>
<li><p>requestScope——&gt;request域</p>
</li>
<li><p>sessionScope——&gt;session</p>
</li>
<li><p>applicationScope——&gt;application(servletContext)</p>
</li>
<li><p>举例：在pageContext中存储，<strong>pageContext.setAttribute(“msg”,”hxx”);</strong></p>
<p>​            获取值，**${pageScope.msg}**</p>
</li>
</ul>
</li>
<li><p>**语法二：${键名}**，表示依次从最小的域中查找是否又该键对应的值，直到找到为止。</p>
</li>
<li><p><strong>获取对象的值，对象的属性来获取,${域名称.键名.属性名}，本质上会调用对象的getter方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Date date;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 逻辑视图</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getBirStr</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (date!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//格式化日期对象</span></span><br><span class="line">            SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">            <span class="comment">//返回字符串</span></span><br><span class="line">            <span class="keyword">return</span> sdf.format(date);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;%--通过对象的属性来获取--%&gt;</span><br><span class="line">&lt;%  </span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setDate(<span class="keyword">new</span> Date());</span><br><span class="line">    request.setAttribute(<span class="string">&quot;u&quot;</span>,user);</span><br><span class="line">%&gt;</span><br><span class="line">$&#123;u.birStr&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>List集合：${域名称.键名[索引]}，越界时不显示任何内容</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    list.add(<span class="string">&quot;hxxx&quot;</span>);</span><br><span class="line">    list.add(user);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;l&quot;</span>,list);</span><br><span class="line">%&gt;</span><br><span class="line">$&#123;requestScope.l&#125;&lt;br&gt;</span><br><span class="line">$&#123;l[<span class="number">0</span>]&#125;&lt;br&gt;</span><br><span class="line">&lt;%--越界什么都不显示--%&gt;</span><br><span class="line">$&#123;l[<span class="number">10</span>]&#125;&lt;br&gt;</span><br><span class="line">$&#123;l[<span class="number">1</span>].date&#125;&lt;br&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Map：**${域名称.键名[“key名称”]}   或   ${域名称.键名.key名称}**     </p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$&#123;requestScope.m&#125;&lt;br&gt;</span><br><span class="line">$&#123;m.name&#125;&lt;br&gt;</span><br><span class="line">$&#123;m[<span class="string">&quot;name&quot;</span>]&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="4-隐式对象"><a href="#4-隐式对象" class="headerlink" title="4.隐式对象"></a>4.隐式对象</h1><ol>
<li><p>EL表达式中有11个隐式对象</p>
</li>
<li><p>pageContext</p>
<ul>
<li>获取jsp其他八个内置对象</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--在jsp中动态获取虚拟目录--%&gt;</span><br><span class="line">$&#123;pageContext.request.contextPath&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2021/03/01/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/" data-id="cknhe7bu9000iows6aozme93c" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/4/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">Java设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E3%80%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8B/" rel="tag">《数据库系统概论》</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">Java设计模式</a> <a href="/tags/MySQL/" style="font-size: 11.67px;">MySQL</a> <a href="/tags/SSM/" style="font-size: 15px;">SSM</a> <a href="/tags/c/" style="font-size: 16.67px;">c++</a> <a href="/tags/javaweb/" style="font-size: 18.33px;">javaweb</a> <a href="/tags/%E3%80%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8B/" style="font-size: 13.33px;">《数据库系统概论》</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/19/spring%E7%9A%84IOC/">spring的IOC</a>
          </li>
        
          <li>
            <a href="/2021/04/16/MyBatis%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/">MyBatis注解开发</a>
          </li>
        
          <li>
            <a href="/2021/04/15/MyBatis%E7%BC%93%E5%AD%98/">MyBatis缓存</a>
          </li>
        
          <li>
            <a href="/2021/04/14/MyBatis%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD/">MyBatis延迟加载</a>
          </li>
        
          <li>
            <a href="/2021/04/13/MyBatis%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/">MyBatis多表查询</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 hxx-98<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>