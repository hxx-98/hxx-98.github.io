<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hxx</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hxx">
<meta property="og:url" content="http://hxx-98.github.io/page/8/index.html">
<meta property="og:site_name" content="Hxx">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="hxx-98">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hxx" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hxx</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hxx-98.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-方法引用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/26/%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8/" class="article-date">
  <time datetime="2020-11-26T09:45:31.000Z" itemprop="datePublished">2020-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/26/%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8/">方法引用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="方法引用"><a href="#方法引用" class="headerlink" title="方法引用"></a>方法引用</h1><ul>
<li><p>双冒号<code>::</code>式引用运算符，其所在的表达式被称为方法引用</p>
</li>
<li><p><strong>当对象和方法已经存在时，可以使用方法引用优化Lambda表达式</strong></p>
</li>
<li><p>分析：</p>
<p>下面程序中Lambda表达式的目的：打印参数传递的字符串<br> 在<code>printstring</code>中把参数s传递给了<code>System.out</code>对象，调用out中的方法<code>println</code>对字符串输出<br> 因为<code>System.out</code>对象和<code>println</code>已经存在，所以可使用方法引用优化表达式<br> 使用<code>System.out</code>直接引用<code>println</code>方法</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">DemoInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(String s)</span></span>;<span class="comment">//打印字符串的抽象方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoPrintable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printstring</span><span class="params">(DemoInterface p)</span></span>&#123;</span><br><span class="line">        p.print(<span class="string">&quot;HelloWorld&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        printstring((s)-&gt;&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;);</span><br><span class="line">        printstring(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="实现引用成员方法"><a href="#实现引用成员方法" class="headerlink" title="实现引用成员方法"></a>实现引用成员方法</h1><ul>
<li>自定义一个类<code>MethodReObject</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodReObject</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MethodReObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MethodReObject</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//定义一个成员方法，传递字符串，把字符串大写输出</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printUppercase</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">        System.out.println(s.toUpperCase());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123; <span class="comment">//静态成员方法</span></span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello&quot;</span>);;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-通过对象引用成员方法"><a href="#1-通过对象引用成员方法" class="headerlink" title="1. 通过对象引用成员方法"></a>1. 通过对象引用成员方法</h2><ul>
<li>定义一个接口<code>DemoInterface</code>，包含一个抽象方法<code>print</code></li>
<li>在主类中定义<code>printstring</code>方法，参数为接口<code>DemoInterface</code>类型，方法中调用接口的方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">DemoInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(String s)</span></span>;<span class="comment">//打印字符串的抽象方法</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printstring</span><span class="params">(DemoInterface p)</span></span>&#123;</span><br><span class="line">        p.print(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        printstring((s)-&gt;&#123;</span><br><span class="line">            MethodReObject mp = <span class="keyword">new</span> MethodReObject();</span><br><span class="line">            mp.printUppercase(s);</span><br><span class="line">        &#125;);</span><br><span class="line">        MethodReObject object = <span class="keyword">new</span> MethodReObject();</span><br><span class="line">        printstring(object::printUppercase);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-通过类名引用静态方法"><a href="#2-通过类名引用静态方法" class="headerlink" title="2. 通过类名引用静态方法"></a>2. 通过类名引用静态方法</h2><ul>
<li>定义一个函数式接口<code>Calcable</code>，包含抽象方法可以计算两个数的和</li>
<li>在主类中定义方法<code>method1</code>,参数传递<code>Calcable</code>接口，调用其中的给抽象方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Calcable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">cal</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">method1</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,Calcable p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p.cal(a,b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> r = method1(<span class="number">1</span>,<span class="number">2</span>,MethodReObject::calc); <span class="comment">//通过类名引用静态方法</span></span><br><span class="line">        System.out.println(r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-通过super和this引用成员方法"><a href="#3-通过super和this引用成员方法" class="headerlink" title="3. 通过super和this引用成员方法"></a>3. 通过super和this引用成员方法</h2><ul>
<li><p>如果存在继承关系，当Lambda中需要super调用时，也可以使用方法引用进行替代</p>
</li>
<li><p>this代表当前对象，如果需要引用的方法就是当前类中的成员方法，可以使用 <code>this::成员方法</code> 来进行方法引用</p>
<ul>
<li><p>定义函数式接口<code>Greetable</code></p>
</li>
<li><p>定义子类<code>SubReObject</code> 继承 <code>MethodReObject</code></p>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Greetable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubReObject</span> <span class="keyword">extends</span> <span class="title">MethodReObject</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello,i&#x27;m hxx&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//定义一个方法参数传递函数式接口Greetable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">(Greetable g)</span></span>&#123;</span><br><span class="line">        g.greet();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//定义一个方法调用method</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">        method2(()-&gt;&#123;</span><br><span class="line">            MethodReObject obj = <span class="keyword">new</span> MethodReObject();<span class="comment">//创建父类对象</span></span><br><span class="line">            obj.sayHello();</span><br><span class="line">        &#125;);</span><br><span class="line">        method2(()-&gt;&#123;</span><br><span class="line">            <span class="keyword">super</span>.sayHello();</span><br><span class="line">        &#125;);</span><br><span class="line">        method2(<span class="keyword">super</span>::sayHello);</span><br><span class="line">        method2(<span class="keyword">this</span>::sayHello);<span class="comment">//通过this引用本类的方法</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> SubReObject().show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-类的构造器引用"><a href="#4-类的构造器引用" class="headerlink" title="4. 类的构造器引用"></a>4. 类的构造器引用</h2><ul>
<li>构造器引用使用 <code>类名称::new</code> 的格式表示</li>
<li>定义函数式接口<code>ObjectBuilder</code> ，创建一个<code>MethodReObject</code>对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ObjectBuilder</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建一个MethodReObject对象</span></span><br><span class="line">    <span class="function">MethodReObject <span class="title">BuilderObject</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">(String name,ObjectBuilder ob)</span></span>&#123;</span><br><span class="line">        MethodReObject object = ob.BuilderObject(name);</span><br><span class="line">        System.out.println(object.getName());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        method2(<span class="string">&quot;hxx&quot;</span>,(String name)-&gt;&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> MethodReObject(name);</span><br><span class="line">        &#125;);</span><br><span class="line">        method2(<span class="string">&quot;hxx&quot;</span>,MethodReObject::<span class="keyword">new</span>);<span class="comment">//构造器引用</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-数组的构造器引用"><a href="#5-数组的构造器引用" class="headerlink" title="5. 数组的构造器引用"></a>5. 数组的构造器引用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ArrayBuilder</span> </span>&#123;</span><br><span class="line">    <span class="comment">//定义一个创建int类型数组的方法，参数传递数组的长度，返回创建好的int类型数组</span></span><br><span class="line">    <span class="keyword">int</span> []builderArray(<span class="keyword">int</span> len);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] creatArray(<span class="keyword">int</span> len,ArrayBuilder ab)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] array = ab.builderArray(len);</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//调用creatArray方法</span></span><br><span class="line">        <span class="keyword">int</span>[] array = creatArray(<span class="number">3</span>, len -&gt; &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//int[]引用new</span></span><br><span class="line">        <span class="keyword">int</span>[] array1 = creatArray(<span class="number">3</span>, <span class="keyword">int</span>[]::<span class="keyword">new</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/11/26/%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8/" data-id="cknhe7bxh007bows61a9d7rw8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-test" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/26/test/" class="article-date">
  <time datetime="2020-11-26T09:17:52.956Z" itemprop="datePublished">2020-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="迷茫中（github-io无法访问，尚未解决）"><a href="#迷茫中（github-io无法访问，尚未解决）" class="headerlink" title="迷茫中（github.io无法访问，尚未解决）"></a>迷茫中（github.io无法访问，尚未解决）</h1><ul>
<li>网址hxx-98.github.io访问出现了问题，让其他朋友亲戚试着打开这个网址，发现有的可以，但有的不行，很是困惑，不知道后期会不会恢复。</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/github2.png"></p>
<ul>
<li>不知所以的排查中，虽然还是没解决……..</li>
<li>GitHub能正常访问，检查自己的GitHub用户名就是hxx-98，仓库名和域名均设置正确………..</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/GitHub.png"></p>
<ul>
<li>ping一下看看，怎么成了回环地址。</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/1fcd49f1ba65ddf068f0ea85b4feaed.png"></p>
<ul>
<li>看看hosts文件（C:\Windows\System32\drivers\etc），是不是被改了，好像并没有哎。。。。</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/e1917c22d9f624605ebc22d69a7a7b1.png"></p>
<ul>
<li>逐渐放弃，文章可以部署上去，只是现在自己电脑没法访问了，纠结了下，自我安慰可以当个笔记用吧。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/11/26/test/" data-id="cknhe7bwb004kows63rrs590w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/26/hello-world/" class="article-date">
  <time datetime="2020-11-26T09:06:56.376Z" itemprop="datePublished">2020-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/26/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/11/26/hello-world/" data-id="cknhe7bvt003oows6h0nv2vk2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Stream流" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/21/Stream%E6%B5%81/" class="article-date">
  <time datetime="2020-11-21T02:09:15.000Z" itemprop="datePublished">2020-11-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/21/Stream%E6%B5%81/">Stream流</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-引言"><a href="#1-引言" class="headerlink" title="1 引言"></a>1 引言</h1><ul>
<li>I/O流是用于读写，Stream用于对数组和集合进行简化操作。我们可以将集合和数组转换成Stream流，使用Stream流中的方法对其中的元素进行操作。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;hq&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        <span class="comment">//使用Stream流的方式遍历集合，对集合中的数据进行过滤</span></span><br><span class="line">        list.stream()</span><br><span class="line">                .filter(name-&gt;name.startsWith(<span class="string">&quot;h&quot;</span>))</span><br><span class="line">                .filter(name-&gt;name.length()==<span class="number">3</span>)</span><br><span class="line">                .forEach(name-&gt;System.out.println(name));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-流式思想概述"><a href="#2-流式思想概述" class="headerlink" title="2 流式思想概述"></a>2 流式思想概述</h1><ul>
<li><p>Stream流是一个集合元素的函数模型，并不是集合，也不是数据结构，其本身并不存储任何元素或其地址值</p>
</li>
<li><p>Stream是一个来自数据源的元素队列</p>
<ul>
<li>元素是特定类型的对象，形成一个队列。</li>
<li>数据源可以是集合、数组</li>
</ul>
</li>
<li><p>和之前的Collection相比，Stream操作还有两个基础的特征：</p>
<ul>
<li><p>Pipelining：中间操作都会返回流对象本身。这样多个操作可以串联成一个管道，如同流式风格。这样可以对操作进行优化，比如<strong>延迟执行和短路</strong></p>
</li>
<li><p>内部迭代：以前对集合遍历都是通过iterator或者增强for的方式，显式的在集合外部进行迭代，即外部迭代。Stream提供了内部迭代的方式，流可以直接调用遍历方法</p>
</li>
</ul>
</li>
<li><p>Stream属于管道流，只能使用一次。第一个Stream流调用完毕，数据会流转到下一个Stream上。而这时第一个Stream流已经使用完毕并且关闭。</p>
</li>
<li><p>使用流的步骤：</p>
<ul>
<li>获取一个数据源</li>
<li>数据转换：每次转换原有Stream对象不改变，返回一个新的Stream对象（可以有多次转换）。</li>
<li>执行操作获取想要的结果</li>
</ul>
</li>
</ul>
<h1 id="3-获取流"><a href="#3-获取流" class="headerlink" title="3 获取流"></a>3 获取流</h1><ul>
<li><p>获取流的方式：</p>
<ul>
<li>所有的Collection都可以通过stream默认方法获取流</li>
<li>Stream接口的静态方法<code>of</code> 可以获取数组对应的流</li>
</ul>
</li>
<li><p><code>java.util.Collection</code> 接口中加入了default方法 <code>stream</code> 来获取流，所以其所有实现类都可获取流</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;		</span><br><span class="line">		<span class="comment">//将集合转换为stream</span></span><br><span class="line">        List&lt;String&gt; list1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Stream&lt;String&gt; stream1 = list1.stream();</span><br><span class="line">    </span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Stream&lt;String&gt; stream2 = set.stream();</span><br><span class="line">    </span><br><span class="line">        Map&lt;String,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">//获取键，存储到一个set集合中</span></span><br><span class="line">        Set&lt;String&gt; set1 = map.keySet();</span><br><span class="line">        Stream&lt;String&gt; stream3 = set1.stream();</span><br><span class="line">        <span class="comment">//获取值，存储到Collection集合中</span></span><br><span class="line">        Collection&lt;String&gt; values = map.values();</span><br><span class="line">        Stream&lt;String&gt; stream4 = values.stream();</span><br><span class="line">        <span class="comment">//获取键值对</span></span><br><span class="line">        Set&lt;Map.Entry&lt;String, String&gt;&gt; entryset = map.entrySet();</span><br><span class="line">        Stream&lt;Map.Entry&lt;String, String&gt;&gt; stream5 = entryset.stream();</span><br><span class="line">    </span><br><span class="line">		<span class="comment">//将数组转换为stream流</span></span><br><span class="line">        Stream&lt;Integer&gt; integerStream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">        Integer[]arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">        Stream&lt;Integer&gt; arr1 = Stream.of(arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="4-常用方法"><a href="#4-常用方法" class="headerlink" title="4 常用方法"></a>4 常用方法</h1><ul>
<li>延迟方法：返回值类型仍然是<code>Stream</code>接口自身类型的方法，支持链式调用</li>
<li>终结方法：返回值类型不再是<code>Stream</code>自身类型的方法，不咋支持类似于<code>StringBuilder</code>那样的链式调用。比如有<code>count</code>和<code>foreach</code>方法</li>
</ul>
<h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h2><ul>
<li>该方法接收一个Consumer接口函数，将每一个硫元素交个该函数进行处理</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">forEach</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; action)</span></span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        &#x2F;&#x2F;获取stream流</span><br><span class="line">        Stream&lt;String&gt; stringStream &#x3D; Stream.of(&quot;hxx&quot;, &quot;qzy&quot;);</span><br><span class="line">        &#x2F;&#x2F;调用forEach</span><br><span class="line">        stringStream.forEach(</span><br><span class="line">                (String name)-&gt;&#123;</span><br><span class="line">                    System.out.println(name);</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="过滤方法filter"><a href="#过滤方法filter" class="headerlink" title="过滤方法filter"></a>过滤方法filter</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Stream&lt;T&gt; <span class="title">filter</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> T&gt; predicate)</span></span>;</span><br></pre></td></tr></table></figure>

<p>该函数接收一个Predicate函数式接口参数（可以是一个Lambda或方法引用）作为筛选条件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        Stream&lt;String&gt; stream &#x3D; Stream.of(&quot;hxx&quot;, &quot;qzy&quot;);</span><br><span class="line">        Stream&lt;String&gt; h &#x3D; stream.filter(</span><br><span class="line">                (String name) -&gt; &#123;</span><br><span class="line">                    return name.startsWith(&quot;h&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line">        System.out.println(h);</span><br><span class="line">        stream.forEach(name-&gt; System.out.println(name));&#x2F;&#x2F;报错，使用完stream之后转换到了h流，stream已经关闭</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="映射：map"><a href="#映射：map" class="headerlink" title="映射：map"></a>映射：map</h2><ul>
<li>如果需要将流中的元素映射到另一个流中，可以使用map方法，方法签名：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;R&gt; Stream &lt;R&gt; map(Function&lt;? siper T,? extends R&gt; maper);</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        Stream&lt;Integer&gt; integerStream = stream.map((String s) -&gt; &#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.parseInt(s);</span><br><span class="line">        &#125;);</span><br><span class="line">        integerStream.forEach(i-&gt; System.out.println(i));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="count、limit、skip、contact"><a href="#count、limit、skip、contact" class="headerlink" title="count、limit、skip、contact"></a>count、limit、skip、contact</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//long count(); 终结方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;5&quot;</span>);</span><br><span class="line">        <span class="comment">/*Stream&lt;String&gt; limit = stream.limit(3);</span></span><br><span class="line"><span class="comment">        System.out.println(limit.count());</span></span><br><span class="line"><span class="comment">        Stream&lt;String&gt; skip = stream.skip(3);*/</span></span><br><span class="line">        Stream&lt;String&gt; stream1 = Stream.of(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        Stream&lt;String&gt; concat = Stream.concat(stream, stream1);<span class="comment">//保证流没有关闭</span></span><br><span class="line">        concat.forEach(i-&gt; System.out.println(i));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/11/21/Stream%E6%B5%81/" data-id="cknhe7bvj0035ows6d77idfke" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-函数式接口-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/02/%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3-Java/" class="article-date">
  <time datetime="2020-09-02T09:42:26.000Z" itemprop="datePublished">2020-09-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/02/%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3-Java/">函数式接口-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第一章-函数式接口"><a href="#第一章-函数式接口" class="headerlink" title="第一章 函数式接口"></a>第一章 函数式接口</h1><h2 id="1-1-概念"><a href="#1-1-概念" class="headerlink" title="1.1 概念"></a>1.1 概念</h2><ul>
<li>函数式接口在Java中指<strong>有且仅有一个抽象方法的接口</strong>，接口中可以包含其他的方法（私有，默认，静态）体现方式是Lambda</li>
</ul>
<h2 id="1-2-格式"><a href="#1-2-格式" class="headerlink" title="1.2 格式"></a>1.2 格式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line">修饰符 <span class="class"><span class="keyword">interface</span> 接口名称</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">abstract</span> 返回值类型 方法名称(参数);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-3-FunctionalInterface"><a href="#1-3-FunctionalInterface" class="headerlink" title="1.3 @FunctionalInterface"></a>1.3 @FunctionalInterface</h2><ul>
<li>注解，检测接口是否是一个函数式接口</li>
</ul>
<h1 id="第二章-函数式编程"><a href="#第二章-函数式编程" class="headerlink" title="第二章 函数式编程"></a>第二章 函数式编程</h1><h2 id="2-1-Lambda的延迟执行"><a href="#2-1-Lambda的延迟执行" class="headerlink" title="2.1 Lambda的延迟执行"></a>2.1 Lambda的延迟执行</h2><h3 id="日志案例"><a href="#日志案例" class="headerlink" title="日志案例"></a>日志案例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">logger</span> </span>&#123;</span><br><span class="line">    <span class="comment">//定义一个根据日志的级别，显示日志的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showLog</span><span class="params">(<span class="keyword">int</span> level,String message)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(level == <span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定义三个日志信息</span></span><br><span class="line">        String msg1 = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        String msg2 = <span class="string">&quot;hxx&quot;</span>;</span><br><span class="line">        String msg3 = <span class="string">&quot;qzy&quot;</span>;</span><br><span class="line">        <span class="comment">//调用showLog</span></span><br><span class="line">        showLog(<span class="number">1</span>,msg1+msg2+msg3);</span><br><span class="line">        showLog(<span class="number">2</span>,msg1+msg2+msg3);<span class="comment">//不会打印，字符串拼接操作浪费</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="日志案例优化"><a href="#日志案例优化" class="headerlink" title="日志案例优化"></a>日志案例优化</h3><ul>
<li>使用Lambda表达式作为参数传递，仅仅是把参数传递到<code>showLog</code>方法中，只有满足条件，才会调用<code>MessageBuilder</code>中的方法<code>builderMessage</code>进行字符串的拼接</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MessageBuilder</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">builderMessage</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">logger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showLog</span><span class="params">(<span class="keyword">int</span> level,MessageBuilder mb)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(level == <span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(mb.builderMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定义三个日志信息</span></span><br><span class="line">        String msg1 = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        String msg2 = <span class="string">&quot;hxx&quot;</span>;</span><br><span class="line">        String msg3 = <span class="string">&quot;qzy&quot;</span>;</span><br><span class="line">        showLog(<span class="number">1</span>,()-&gt;&#123;</span><br><span class="line">            <span class="keyword">return</span> msg1+msg2+msg3;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数式接口作为方法的返回值"><a href="#函数式接口作为方法的返回值" class="headerlink" title="函数式接口作为方法的返回值"></a>函数式接口作为方法的返回值</h3><ul>
<li>如果一个方法的返回值类型是一个函数式接口，那么可以直接返回一个Lambda表达式。当需要通过一个方法来获取一个<code>java.util.Comparator</code>接口类型的对象作为排序算法时，就可调该方法获取</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Comparator&lt;String&gt; <span class="title">getComparable</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">/*return new Comparator&lt;String&gt;() &#123;</span></span><br><span class="line"><span class="comment">            @Override</span></span><br><span class="line"><span class="comment">            public int compare(String o1, String o2) &#123;</span></span><br><span class="line"><span class="comment">                return o2.length()-o1.length();</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;;*/</span></span><br><span class="line">        <span class="comment">/*return (o1,o2)-&gt;&#123;</span></span><br><span class="line"><span class="comment">            return o2.length()-o1.length();</span></span><br><span class="line"><span class="comment">        &#125;;*/</span></span><br><span class="line">        <span class="keyword">return</span> (o1,o2)-&gt;o2.length()-o1.length();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String[] str = &#123;<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;dssd&quot;</span>&#125;;</span><br><span class="line">        Arrays.sort(str,getComparable());</span><br><span class="line">        System.out.println(Arrays.toString(str));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="第三章-常用函数式接口"><a href="#第三章-常用函数式接口" class="headerlink" title="第三章 常用函数式接口"></a>第三章 常用函数式接口</h1><h2 id="3-1-Supplier接口"><a href="#3-1-Supplier接口" class="headerlink" title="3.1 Supplier接口"></a>3.1 Supplier接口</h2><ul>
<li><code>java.util.function.Supplier&lt; T &gt;</code>接口仅包含一个无参的方法：<code>T get()</code>。用来获取一个泛型参数指定类型的对象数据。由于这是一个函数式接口，所以Lambda表达式需要对外提供一个符合泛型类型的对象数据。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//定义一个方法，参数传递Supplier接口</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getString</span><span class="params">(Supplier&lt;String&gt; sup)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> sup.get();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMax</span><span class="params">(Supplier&lt;Integer&gt;sup)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> sup.get();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	String s = getString(() -&gt; &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;hxx&quot;</span>;</span><br><span class="line">	&#125;);</span><br><span class="line">	System.out.println(s);</span><br><span class="line">    <span class="keyword">int</span>[] arr = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">50</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> maxVaule = getMax(()-&gt;&#123;</span><br><span class="line">    	<span class="keyword">int</span> max = arr[<span class="number">0</span>];</span><br><span class="line">   	    <span class="keyword">for</span> (<span class="keyword">int</span> i : arr) &#123;</span><br><span class="line">  	      <span class="keyword">if</span>(i&gt;max) max = i;</span><br><span class="line">  	       &#125;</span><br><span class="line">           <span class="keyword">return</span> max;</span><br><span class="line">     &#125;);</span><br><span class="line">     System.out.println(maxVaule);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-2-Consumer接口"><a href="#3-2-Consumer接口" class="headerlink" title="3.2 Consumer接口"></a>3.2 Consumer接口</h2><h3 id="抽象方法：accept"><a href="#抽象方法：accept" class="headerlink" title="抽象方法：accept"></a>抽象方法：accept</h3><p><code>Consumer</code> 接口中包含抽象方法<code>void accept(T t)</code>消费一个指定泛型的数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(String name, Consumer&lt;String&gt; cos)</span></span>&#123;</span><br><span class="line">        cos.accept(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       method(<span class="string">&quot;hxx&quot;</span>,(String name)-&gt;&#123;</span><br><span class="line">           System.out.println(name);</span><br><span class="line">           String rName = <span class="keyword">new</span> StringBuffer(name).reverse().toString();</span><br><span class="line">           System.out.println(rName);</span><br><span class="line">       &#125;);</span><br><span class="line">&#125;       </span><br></pre></td></tr></table></figure>

<h3 id="默认方法andThen"><a href="#默认方法andThen" class="headerlink" title="默认方法andThen"></a>默认方法andThen</h3><ul>
<li>需要两个Consumer接口，可以把两个Consumer接口连接起来</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">(String name,Consumer&lt;String&gt; con1,Consumer&lt;String&gt;con2)</span></span>&#123;</span><br><span class="line">        con1.accept(name);</span><br><span class="line">        con2.accept(name);</span><br><span class="line">        <span class="comment">//使用andThen方法</span></span><br><span class="line">        con1.andThen(con2).accept(name);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">&quot;hxx&quot;</span>;</span><br><span class="line">        <span class="comment">//判断字符串是否长度大于5</span></span><br><span class="line">        checkString(str,(s)-&gt;&#123;</span><br><span class="line">            <span class="keyword">return</span> s.length()&lt;<span class="number">5</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">		method1(<span class="string">&quot;hxx&quot;</span>,</span><br><span class="line">		(name)-&gt; System.out.println(name.toUpperCase()),</span><br><span class="line">        (name)-&gt; System.out.println(name));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-3-Predicate接口"><a href="#3-3-Predicate接口" class="headerlink" title="3.3 Predicate接口"></a>3.3 Predicate接口</h2><ul>
<li>当需要对某种类型的数据进行判断，可以使用 <code>java.util.function.Predicate&lt;T&gt;</code>接口</li>
</ul>
<h3 id="抽象方法：boolean-test-T-t-用于条件判断"><a href="#抽象方法：boolean-test-T-t-用于条件判断" class="headerlink" title="抽象方法：boolean test(T t)用于条件判断"></a>抽象方法：boolean test(T t)用于条件判断</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">checkString</span><span class="params">(String str, Predicate&lt;String&gt; pre)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pre.test(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">&quot;hxx&quot;</span>;</span><br><span class="line">        <span class="comment">//判断字符串是否长度大于5</span></span><br><span class="line">        checkString(str,(s)-&gt;&#123;</span><br><span class="line">            <span class="keyword">return</span> s.length()&lt;<span class="number">5</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h3 id="默认方法：and、or、negate"><a href="#默认方法：and、or、negate" class="headerlink" title="默认方法：and、or、negate"></a>默认方法：and、or、negate</h3><ul>
<li>将两个Predicate条件使用逻辑连接起来实现<strong>与或非</strong>效果时，可以使用default方法and</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">checkString1</span><span class="params">(String str, Predicate&lt;String&gt; pre1, Predicate&lt;String&gt; pre2)</span></span>&#123;</span><br><span class="line">        <span class="comment">//return pre1.test(str) &amp;&amp; pre2.test(str);</span></span><br><span class="line">        <span class="comment">//return pre1.and(pre2).test(str);</span></span><br><span class="line">        <span class="keyword">return</span> pre1.or(pre2).test(str);</span><br><span class="line">        <span class="comment">//return pre1.negate().test(str);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">&quot;hxxqzy&quot;</span>;</span><br><span class="line">        <span class="comment">//判断字符串是否长度大于5</span></span><br><span class="line">        <span class="keyword">boolean</span> b=checkString1(str,</span><br><span class="line">                (s)-&gt;&#123; <span class="keyword">return</span> s.length()&lt;<span class="number">5</span>; &#125;,</span><br><span class="line">                (s)-&gt;&#123; <span class="keyword">return</span>  s.contains(<span class="string">&quot;qzy&quot;</span>);&#125;</span><br><span class="line">                );</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-4-Function接口"><a href="#3-4-Function接口" class="headerlink" title="3.4 Function接口"></a>3.4 Function接口</h2><ul>
<li><code>java.util.function.Function&lt;T,R&gt;</code>接口用来根据一个类型的数据得到另一个类型的数据</li>
</ul>
<h3 id="抽象方法：apply"><a href="#抽象方法：apply" class="headerlink" title="抽象方法：apply"></a>抽象方法：apply</h3><ul>
<li><code>R apply(T t)</code>根据类型T的参数获取类型R的结果。如将String转换为Integer类型</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(String str, Function&lt;String,Integer&gt; fun)</span></span>&#123;</span><br><span class="line">        Integer in = fun.apply(str);</span><br><span class="line">        System.out.println(in);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String str = <span class="string">&quot;1234&quot;</span>;</span><br><span class="line">        change(str,(String s)-&gt;&#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.parseInt(s);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h3 id="andThen方法：组合操作"><a href="#andThen方法：组合操作" class="headerlink" title="andThen方法：组合操作"></a>andThen方法：组合操作</h3><ul>
<li>将String类型的”123“转换为Integer类型，加10之后转换为String类型</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(String str, Function&lt;String,Integer&gt; fun1,Function&lt;Integer,String&gt; fun2)</span></span>&#123;</span><br><span class="line">        String ss = fun1.andThen(fun2).apply(str);</span><br><span class="line">        System.out.println(ss);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">&quot;1234&quot;</span>;</span><br><span class="line">        change(str,</span><br><span class="line">                (String s)-&gt;&#123; <span class="keyword">return</span> Integer.parseInt(s)+<span class="number">10</span>; &#125;,</span><br><span class="line">                (Integer i)-&gt;&#123;<span class="keyword">return</span> i+<span class="string">&quot;&quot;</span>;&#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/09/02/%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3-Java/" data-id="cknhe7bwo005dows68npt5os2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-TCP通信-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/31/TCP%E9%80%9A%E4%BF%A1-Java/" class="article-date">
  <time datetime="2020-08-31T01:06:06.000Z" itemprop="datePublished">2020-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/31/TCP%E9%80%9A%E4%BF%A1-Java/">TCP通信-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h1><p><strong>通信步骤</strong></p>
<p>​    服务器端先启动，服务器端不会主动的请求客户端，必须使用客户端请求服务器端。客户端和服务器端会建立一个逻辑链接，而这个连接中包含一个IO对象，客户端使用这个IO对象进行通信。通信的数据不只是字符，所以是字节流对象。</p>
<p><strong>服务器端必须明确两件事</strong></p>
<ol>
<li><p>多个客户端同时和服务器端进行交互，服务器端必须明确和哪个客户端进行的交互。服务器端有个方法，叫accept客户端获取到请求的客户端对象。</p>
</li>
<li><p>多个客户端同时和服务器进行交互，就需要使用多个IO流对象。</p>
</li>
<li><p>服务器端是没有IO流的，服务器可以获取到请求的客户流对象Socket，使用每个客户端Socket中提供的IO流和客户端进行交互。</p>
<ul>
<li><p>服务器端使用客户端的字节输入流读取客户端发送数据</p>
</li>
<li><p>服务器端使用客户端的字节输出流给客户端回写数据</p>
</li>
</ul>
</li>
</ol>
<p><strong>在Java中提供了两个类实现TCP通信程序</strong></p>
<ol>
<li>客户端：<code>java.net.Socket</code>类表示，创建<code>Socket</code>对象，向服务端发出连接请求，服务器端响应请求，两者建立连接开始通信</li>
<li>服务端：<code>java.net.SeverSocket</code>类表示。创建<code>SeverSocket</code>对象，先当与开启一个服务，并等待客户端的连接</li>
</ol>
<h1 id="2-Socket类"><a href="#2-Socket类" class="headerlink" title="2. Socket类"></a>2. Socket类</h1><p><code>Socket</code>类：该类实现客户端套接字（两台设备之间通讯的端点）</p>
<ul>
<li><code>public Socket(String host，int port)</code>：创建套接字对象并将其连接到指定主机上的指定端口号。如果指定的host是null，则相当于指定地址为回送地址。</li>
<li><code>OutputStream getOutputStream()</code>：返回此套接字的输出流</li>
<li><code>InputStream getInputStream</code>：返回此套接字的输入流</li>
<li><code>void close()</code>：关闭此套接字</li>
</ul>
<h1 id="3-SeverSocket类"><a href="#3-SeverSocket类" class="headerlink" title="3. SeverSocket类"></a>3. SeverSocket类</h1><ul>
<li><code>SeverSocket(int port)</code>：创建绑定到端口的服务器套接字</li>
<li>Socket accept()：侦听并接收此套接字的连接</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//客户端代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建客户端对象中的方法Socket，构造方法绑定服务器的IP地址和端口号</span></span><br><span class="line">        Socket socket = <span class="keyword">new</span> Socket(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8888</span>);</span><br><span class="line">        <span class="comment">//使用Socket对象中的getOutputStream()获取网络字节输出流对象</span></span><br><span class="line">        OutputStream os = socket.getOutputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输出流对象中的write方法，给服务器发送数据</span></span><br><span class="line">        os.write(<span class="string">&quot;你好，服务器&quot;</span>.getBytes());</span><br><span class="line">        <span class="comment">//使用Socket对象中的getInputStream方法获取网络字节输入流InputStream对象</span></span><br><span class="line">        InputStream is = socket.getInputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输入流对象中的方法read，读取服务器回写的数据</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = is.read(bytes);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes, <span class="number">0</span>, len));</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//服务器代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPSever</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建服务器SeverSocket对象和系统要指定的端口号</span></span><br><span class="line">        ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">        <span class="comment">//使用SeverSocket对象中的方法accept，获取到请求的客户端对象Socket</span></span><br><span class="line">        Socket socket = server.accept();</span><br><span class="line">        <span class="comment">//使用Socket对象中的getInputStream方法获取网络字节输入流InputStream对象</span></span><br><span class="line">        InputStream is = socket.getInputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输入流对象中的方法read，读取客户端发送来的数据</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = is.read(bytes);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes, <span class="number">0</span>, len));</span><br><span class="line">        <span class="comment">//使用Socket对象中的getOutputStream()获取网络字节输出流对象</span></span><br><span class="line">        OutputStream os = socket.getOutputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输出流对象中的write方法，给客户端发送数据</span></span><br><span class="line">        os.write(<span class="string">&quot;收到谢谢&quot;</span>.getBytes());</span><br><span class="line">        socket.close();</span><br><span class="line">        server.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="文件上传案例"><a href="#文件上传案例" class="headerlink" title="文件上传案例"></a>文件上传案例</h1><ul>
<li><p>当客户端向服务器发送数据时，不会将结束标记发送过去，服务器将会处于循环等待，所以要使用shutdownOutput方法。</p>
<p><code>void shutdownOutput()</code>：禁用此套接字的输出流。对于TCP套接字，任何以前写入的数据都将被发送，并且后跟TCP的正常连接终止序列</p>
</li>
<li><p>为防止同名文件被覆盖，自定义一个文件的命名规则：<strong>域名+毫秒值+随机数</strong></p>
</li>
<li><p>服务器要一直处于监听状态(死循环accept方法)。使用多线程技术，提高程序的效率，有一个客户端上传文件就开启一个线程，完成文件上传</p>
</li>
</ul>
<h2 id="服务器端代码"><a href="#服务器端代码" class="headerlink" title="服务器端代码"></a>服务器端代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPSever</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建服务器SeverSocket对象和系统要指定的端口号</span></span><br><span class="line">        ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="comment">//使用SeverSocket对象中的方法accept，获取到请求的客户端对象Socket</span></span><br><span class="line">            Socket socket = server.accept();</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span>&#123;</span><br><span class="line">                        File file = <span class="keyword">new</span> File(<span class="string">&quot;D:\\Blog\\images\\JAVA&quot;</span>);</span><br><span class="line">                        <span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">                            file.mkdirs();</span><br><span class="line">                        &#125;</span><br><span class="line">                        String filename = <span class="string">&quot;hxx&quot;</span>+System.currentTimeMillis()+ <span class="keyword">new</span> Random(<span class="number">9999</span>).nextInt();</span><br><span class="line">                        <span class="comment">//创建一个本地输出流</span></span><br><span class="line">                        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file+<span class="string">&quot;\\&quot;</span>+filename+<span class="string">&quot;.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//使用Socket对象中的getInputStream方法获取网络字节输入流InputStream对象</span></span><br><span class="line">                        InputStream is = socket.getInputStream();</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//使用网络字节输入流对象中的方法read，读取客户端发送来的数据</span></span><br><span class="line">                        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">                        <span class="keyword">int</span> len;</span><br><span class="line">                        <span class="keyword">while</span> ((len = is.read(bytes))!=-<span class="number">1</span>)&#123;</span><br><span class="line">                            fos.write(bytes,<span class="number">0</span>,len);<span class="comment">//写到硬盘</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">//使用Socket对象中的getOutputStream()获取网络字节输出流对象</span></span><br><span class="line">                        <span class="comment">//使用网络字节输出流对象中的write方法，给客户端发送数据</span></span><br><span class="line">                        OutputStream os = socket.getOutputStream();</span><br><span class="line">                        os.write(<span class="string">&quot;上传成功&quot;</span>.getBytes());</span><br><span class="line">                        socket.shutdownOutput();</span><br><span class="line">                    &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">                         System.out.println(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//服务器不停机</span></span><br><span class="line">        <span class="comment">//server.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="客户端代码"><a href="#客户端代码" class="headerlink" title="客户端代码"></a>客户端代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//读取本地文件,创建本地输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;xin.png&quot;</span>);</span><br><span class="line">        <span class="comment">//创建客户端对象中的方法Socket，构造方法绑定服务器的IP地址和端口号</span></span><br><span class="line">        Socket socket = <span class="keyword">new</span> Socket(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8888</span>);</span><br><span class="line">        <span class="comment">//使用Socket对象中的getOutputStream()获取网络字节输出流对象</span></span><br><span class="line">        OutputStream os = socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//使用本地字节输入流FileInputStream对象中的方法read读取本地文件</span></span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(bytes))!= -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//使用网络字节输出流对象中的write方法，给服务器发送数据</span></span><br><span class="line">            os.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用Socket对象中的getInputStream方法获取网络字节输入流InputStream对象</span></span><br><span class="line">        InputStream is = socket.getInputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输入流对象中的方法read，读取服务器回写的数据</span></span><br><span class="line">        len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(bytes))!= -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,len));</span><br><span class="line">        &#125;</span><br><span class="line">        socket.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="模拟BS服务器代码"><a href="#模拟BS服务器代码" class="headerlink" title="模拟BS服务器代码"></a>模拟BS服务器代码</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//http://127.0.0.1:8080/day01_code/web/index.html</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BSserver</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建服务器SeeverSocket类，</span></span><br><span class="line">        ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8080</span>);</span><br><span class="line">        <span class="comment">//浏览器解析服务器回写的页面，如果有图片那么浏览器会单独开一个线程，所以服务器要一直监听</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            Socket socket = server.accept();</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        InputStream is = socket.getInputStream();</span><br><span class="line">                        <span class="comment">//向浏览器端回写页面数据</span></span><br><span class="line">                        <span class="comment">//把is网络字节输入流对象，转换为字符缓冲输入流</span></span><br><span class="line">                        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(is));</span><br><span class="line">                        <span class="comment">//把请求信息的第一行读取出来</span></span><br><span class="line">                        String s = br.readLine();</span><br><span class="line">                        <span class="comment">//切割信息</span></span><br><span class="line">                        String[] s1 = s.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">                        String htmlPath = s1[<span class="number">1</span>].substring(<span class="number">1</span>);<span class="comment">//day01_code/web/index.html</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">//创建本地字节输入流，构造方法中绑定要读取的HTML文件路径</span></span><br><span class="line">                        FileInputStream fis = <span class="keyword">new</span> FileInputStream(htmlPath);</span><br><span class="line">                        OutputStream os = socket.getOutputStream();</span><br><span class="line">                        <span class="comment">//写入HTTP协议响应头，固定写法</span></span><br><span class="line">                        os.write((<span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>).getBytes());</span><br><span class="line">                        os.write((<span class="string">&quot;Content-Type:text/html\r\n&quot;</span>).getBytes());</span><br><span class="line">                        <span class="comment">//必须写入空行，否则浏览器不解析</span></span><br><span class="line">                        os.write((<span class="string">&quot;\r\n&quot;</span>).getBytes());</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//复制文件，将服务器读取的HTML文件回写到客户端</span></span><br><span class="line">                        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">                        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                            os.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">                        &#125;</span><br><span class="line">                        fis.close();</span><br><span class="line">                        socket.close();</span><br><span class="line">                    &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">                        System.out.println(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/31/TCP%E9%80%9A%E4%BF%A1-Java/" data-id="cknhe7bvn003cows61eqb2tcz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-IO-字节流和字符流-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/27/IO-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81-Java/" class="article-date">
  <time datetime="2020-08-27T02:58:05.000Z" itemprop="datePublished">2020-08-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="IO顶级父类"><a href="#IO顶级父类" class="headerlink" title="IO顶级父类"></a>IO顶级父类</h1><table>
<thead>
<tr>
<th></th>
<th>输入流</th>
<th>输出流</th>
</tr>
</thead>
<tbody><tr>
<td>字节流</td>
<td>字节输入流<code>InputStream</code></td>
<td>字节输出流<code>OutputStream</code></td>
</tr>
<tr>
<td>字符流</td>
<td>字符输入流<code>Reader</code></td>
<td>字符输出流<code>Writer</code></td>
</tr>
</tbody></table>
<h1 id="第一章-字节流"><a href="#第一章-字节流" class="headerlink" title="第一章 字节流"></a>第一章 字节流</h1><h2 id="1-1-字节输出流"><a href="#1-1-字节输出流" class="headerlink" title="1.1  字节输出流"></a>1.1  字节输出流</h2><ul>
<li><code>java.io.OutputStream</code> 抽象类是表示字节输出流的所有类的超类，将指定的字节信息写道目的地。其基本共性方法：</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/OutputStream%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.PNG"></p>
<h2 id="1-2-文件字节输出流"><a href="#1-2-文件字节输出流" class="headerlink" title="1.2 文件字节输出流"></a>1.2 文件字节输出流</h2><ul>
<li><code>java.io.FileOutputStream</code> 文件字节输出流。将内存中的数据写入到硬盘的文件中</li>
</ul>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p><code>FileOutputStream(String name)</code>：创建一个向指定名称的文件中写入数据的输出文件流</p>
<p><code>FileOutputStream(File file)</code>：创建一个向指定File对象文件中写入数据的输出文件流</p>
<h3 id="写出字节数据"><a href="#写出字节数据" class="headerlink" title="写出字节数据"></a>写出字节数据</h3><ul>
<li><p><code>public void write(byte[] b)</code>：将字节数组的内容写入文件</p>
</li>
<li><p><code>public void write(byte[] b,int off,int len)</code>：将字节数组从off位置开始的长度为len的内容写入文件</p>
</li>
<li><p><code>FileOutputStream(String name,boolean append)</code> ：创建一个向指定name的文件中写入数据的输出文件流，append为true时创建对象不会覆盖原文件，而是继续追加</p>
</li>
<li><p><code>FileOutputStream(File file,boolean append)</code> ：创建一个向指定File的文件中写入数据的输出文件流。</p>
</li>
<li><p>写换行符</p>
<p><strong>Windows：\r\n；Linux：/n；Mac：/r</strong></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileOutputStream file = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line">        file.write(<span class="string">&quot;\r\n&quot;</span>.getBytes());<span class="comment">//换行</span></span><br><span class="line">        file.write(<span class="number">98</span>);<span class="comment">//b</span></span><br><span class="line">        <span class="keyword">byte</span> []bytes = &#123;<span class="number">65</span>,<span class="number">66</span>,<span class="number">67</span>&#125;;</span><br><span class="line">        file.write(bytes);<span class="comment">//ABC</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes1 = <span class="string">&quot;你好&quot;</span>.getBytes();</span><br><span class="line">        file.write(bytes1);<span class="comment">//你好</span></span><br><span class="line">        file.write(bytes,<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//BC</span></span><br><span class="line">        file.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-3-字节输入流"><a href="#1-3-字节输入流" class="headerlink" title="1.3 字节输入流"></a>1.3 字节输入流</h2><ul>
<li><code>java.io.InputStream</code>抽象类表示字节输入流所有类的超类，可以读取字节信息到内存中。<ul>
<li><code>public void close()</code>：关闭此输入流并释放相关资源</li>
<li><code>public int read()</code>：从输入流读取数据的一个字节</li>
<li><code>public int read(byte[] b)</code>：从输入流中读取一些字节，并将它们存储在字节数组b中</li>
</ul>
</li>
</ul>
<h2 id="1-4-文件字节输入流"><a href="#1-4-文件字节输入流" class="headerlink" title="1.4 文件字节输入流"></a>1.4 文件字节输入流</h2><ul>
<li><code>java.io.FileOutputStream</code> 文件字节输出流。将硬盘中的数据读取到内存中</li>
</ul>
<h3 id="构造方法-1"><a href="#构造方法-1" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><p><code>FileInputStream(String name)</code>：创建一个向指定名称的文件中读取数据的输入文件流</p>
</li>
<li><p><code>FileInputStream(File file)</code>：创建一个向指定File对象文件中读取数据的输入文件流</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;捕获.PNG&quot;</span>);</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;xin.PNG&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(len);<span class="comment">//文件复制</span></span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="第二章-字符流"><a href="#第二章-字符流" class="headerlink" title="第二章 字符流"></a>第二章 字符流</h1><h2 id="2-1-字符输入流"><a href="#2-1-字符输入流" class="headerlink" title="2.1 字符输入流"></a>2.1 字符输入流</h2><ul>
<li><code>java.io.Reader</code>抽象类是读取字符流的所有类的超类</li>
<li><code>public void close()</code>：关闭此输入流并释放相关资源</li>
<li><code>public int read()</code>：从输入流读取一个字符</li>
<li><code>public int read(char[] b)</code>：从输入流中读取一些字符</li>
</ul>
<h2 id="2-2-FileReader类"><a href="#2-2-FileReader类" class="headerlink" title="2.2 FileReader类"></a>2.2 FileReader类</h2><ul>
<li><p><code>FileReader(String name)</code> 创建一个新的FileReader，给定要读取的File对象</p>
</li>
<li><p><code>FileReader(File file)</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span>[] ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = fr.read())!= -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>)len);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-3-字符输出流Writer"><a href="#2-3-字符输出流Writer" class="headerlink" title="2.3 字符输出流Writer"></a>2.3 字符输出流Writer</h2><p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/Writer%E6%96%B9%E6%B3%95.PNG"></p>
<h2 id="2-4-FileWriter类"><a href="#2-4-FileWriter类" class="headerlink" title="2.4 FileWriter类"></a>2.4 FileWriter类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line">        fw.write(<span class="string">&quot;helloWorld&quot;</span>);</span><br><span class="line">        fw.flush();</span><br><span class="line">        fw.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h1 id="第三章-IO异常处理"><a href="#第三章-IO异常处理" class="headerlink" title="第三章 IO异常处理"></a>第三章 IO异常处理</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">try</span>(FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;捕获.PNG&quot;</span>);</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;xin.PNG&quot;</span>);)&#123; <span class="comment">//try执行完后fis fos自动释放</span></span><br><span class="line">            <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">                fos.write(len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="第四章-属性集"><a href="#第四章-属性集" class="headerlink" title="第四章 属性集"></a>第四章 属性集</h1><ul>
<li> <code>java.io.Properties</code>继承于<code>Hashtable</code>，来表示一个持久的属性集。它使用键值结构存储数据，每个键及其对应值都是一个字符串。</li>
</ul>
<h2 id="4-1-Properties类"><a href="#4-1-Properties类" class="headerlink" title="4.1 Properties类"></a>4.1 Properties类</h2><h3 id="构造方法-2"><a href="#构造方法-2" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public Properties()</code>：创建一个空的属性列表</li>
</ul>
<h3 id="基本的存储方法"><a href="#基本的存储方法" class="headerlink" title="基本的存储方法"></a>基本的存储方法</h3><ul>
<li><code>public Object setProperty(String key，String value)</code>：保存一对属性</li>
<li><code>public String getProperty(String)</code>：使用此属性列表中指定的键搜索属性值</li>
<li><code>public Set&lt; String &gt; stringPropertyName()</code>：所有键名称的集合</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro.setProperty(<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        Set&lt;String&gt; set = pro.stringPropertyNames();</span><br><span class="line">        <span class="keyword">for</span> (String s : set) &#123;</span><br><span class="line">            System.out.println(pro.getProperty(s));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h3 id="Store"><a href="#Store" class="headerlink" title="Store"></a>Store</h3><ul>
<li>可以使用<code>Properties</code>集合中的方法<code>store</code>，把集合中的临时数据持久化写入到硬盘中存储</li>
<li><code>void store(OutputStream out,String comments)</code>：不能写中文，<code>comment</code>是注释，说明保存的文件作用，不能使用中文，会产生乱码。一般使用空字符串</li>
<li><code>void store(Writer writer,String comments)</code>：能写中文</li>
</ul>
<h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><ul>
<li><code>void load(InputStream instream)</code>：不能含有中文键值对</li>
<li><code>void loadFileReader reader)</code>：不能含有中文键值对</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro.setProperty(<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        <span class="comment">//创建字节输出流/字符输出流对象</span></span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//使用Properties集合中的方法store，把集合中的临时数据写入目的地</span></span><br><span class="line">        pro.store(fw,<span class="string">&quot;Save Data&quot;</span>);</span><br><span class="line">        fw.close();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//新建字符输入流</span></span><br><span class="line">        FileReader reader = <span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        Properties pro2 = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro2.load(reader);</span><br><span class="line">        reader.close();</span><br><span class="line">        System.out.println(pro2);</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h1 id="第五章-缓冲流"><a href="#第五章-缓冲流" class="headerlink" title="第五章 缓冲流"></a>第五章 缓冲流</h1><h2 id="5-1-字节缓冲流"><a href="#5-1-字节缓冲流" class="headerlink" title="5.1 字节缓冲流"></a>5.1 字节缓冲流</h2><ul>
<li><p><code>public BufferedOutputStream(OutputStream out)</code> </p>
</li>
<li><p><code>public BufferedOutputStream(OutputStream out,int size)</code> :指定缓冲流内部缓冲区的大小</p>
</li>
<li><p><code>BufferedInputStream(InputStream in)</code>  </p>
</li>
<li><p><code>BufferedInputStream(InputStream in,int size)</code>  </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">        bos.write(<span class="string">&quot;hxxqzy&quot;</span>.getBytes());</span><br><span class="line">        bos.flush();<span class="comment">//刷新将缓冲区的内容刷新到文件中</span></span><br><span class="line">        bos.close();</span><br><span class="line"></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line"><span class="comment">//        int len = 0;</span></span><br><span class="line"><span class="comment">//        while((len = bis.read())!= -1)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.print((char) len);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len2 = <span class="number">0</span>;<span class="comment">//记录每次读取的有效字节个数</span></span><br><span class="line">        <span class="keyword">while</span>((len2 = bis.read(bytes))!= -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,len2));</span><br><span class="line">        &#125;</span><br><span class="line">        bis.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h2 id="4-2-字符缓冲流"><a href="#4-2-字符缓冲流" class="headerlink" title="4.2 字符缓冲流"></a>4.2 字符缓冲流</h2><ul>
<li><p><code>BufferedReader(Reader in)</code> </p>
</li>
<li><p>BufferedReader：<code>public String readLine()</code>：读一行文字</p>
</li>
<li><p><code>BufferedWriter(Writer out)</code></p>
</li>
<li><p>BufferedWriter：<code>public void newLine()</code>：写一行行分隔符，由系统属性定义符号</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>));</span><br><span class="line">        bw.newLine();</span><br><span class="line">        bw.write(<span class="string">&quot;韩晓璇&quot;</span>);</span><br><span class="line">        bw.close();</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">while</span>((line = br.readLine())!= <span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">        br.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="第五章-转换流"><a href="#第五章-转换流" class="headerlink" title="第五章 转换流"></a>第五章 转换流</h1><h2 id="5-1-字符编码和字符集"><a href="#5-1-字符编码和字符集" class="headerlink" title="5.1 字符编码和字符集"></a>5.1 字符编码和字符集</h2><h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><p>按照某种规则将字符存储到计算机中称之为<strong>编码</strong></p>
<p>将存储在计算机中的二进制数据按照某种规则解析显示出来叫做<strong>解码</strong></p>
<ul>
<li>字符编码：<code>Character Encoding</code></li>
</ul>
<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><ul>
<li>字符集(编码表)：<code>Charset</code> 是一个系统支持的所有字符的集合，包括国家文字、标点符号等</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/%E5%AD%97%E7%AC%A6%E9%9B%86.PNG"></p>
<h2 id="5-2-InputStreamReader"><a href="#5-2-InputStreamReader" class="headerlink" title="5.2 InputStreamReader"></a>5.2 InputStreamReader</h2><ul>
<li><code>java.io.InputStreamReader</code>继承了<code>Reader</code>，是字节流通向字符流的桥梁，可使用指定的<code>charset</code>读取字节将其解码为字符。</li>
<li><code>InputStreamReader(InputStream in)</code>：使用默认字符编码</li>
<li><code>InputStreamReader(InputStream in,String charSetName)</code>：指定字符编码名称不区分大小写。</li>
</ul>
<h2 id="5-2-OutputStreamWriter"><a href="#5-2-OutputStreamWriter" class="headerlink" title="5.2 OutputStreamWriter"></a>5.2 OutputStreamWriter</h2><ul>
<li><code>java.io.OutputStreamWriter</code>继承了<code>Writer</code>，是字符流通向字节流的桥梁，可使用指定的<code>charset</code>将要写入流中的字符编码成字节。</li>
<li><code>OutputStreamWriter(OutputStream out)</code>：使用默认字符编码</li>
<li><code>OutputStreamWriter(OutputStream out,String charSetName)</code>：指定字符编码名称不区分大小写。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>),<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        osw.write(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">        osw.flush();</span><br><span class="line">        osw.close();</span><br><span class="line"></span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>),<span class="string">&quot;gbk&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>) len);</span><br><span class="line">        &#125;</span><br><span class="line">        isr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="第六章-序列化"><a href="#第六章-序列化" class="headerlink" title="第六章 序列化"></a>第六章 序列化</h1><ul>
<li>java提供了一种对象序列化的机制。用一个字节序列可以表示一个对象，该字节序列包含该对象的数据、类型和存储的属性等信息。字节序列写出到文件之后，相当于文件中持久保存了一个对象的信息。</li>
<li>反之，该字节序列可以从文件中读取回来，重构对象，对它进行反序列化。对象的数据、类型和存储的属性等信息都可以用来在内存中创建对象。</li>
</ul>
<h2 id="6-1-ObjectOutputStream类"><a href="#6-1-ObjectOutputStream类" class="headerlink" title="6.1 ObjectOutputStream类"></a>6.1 ObjectOutputStream类</h2><p><code>java.io.ObjectOutputStream</code>类，将java对象的原始数据类型写出到文件，实现对象的持久存储</p>
<h3 id="构造方法-3"><a href="#构造方法-3" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public ObjectOutputStream(OutputStream out)</code>：创建一个指定OutputStream 的ObjectOutputStream。</li>
</ul>
<h3 id="序列化操作"><a href="#序列化操作" class="headerlink" title="序列化操作"></a>序列化操作</h3><ol>
<li>一个对象需要序列化必须满足两个条件<ul>
<li>该类必须实现<code>java.io.Serializable</code>接口，<code>Serializable</code>是一个标记接口，不实现此接口的类将不会使任何状态序列化或者反序列化，会抛出<code>NoSerializableException</code></li>
<li>该类的所有属性必须使可序列化的。如果有一个属性不需要可序列化，则该属性必须注明是瞬态的，使用<code>trasient</code>关键字修饰</li>
</ul>
</li>
<li><code>void writeObject(Object obj)</code>：将指定的对象写入<code>ObjectOutputStream</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> Person(<span class="string">&quot;hxx&quot;</span>));</span><br><span class="line">        oos.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h2 id="6-2-ObjectInputStream类"><a href="#6-2-ObjectInputStream类" class="headerlink" title="6.2 ObjectInputStream类"></a>6.2 ObjectInputStream类</h2><ul>
<li><code>ObjectInputStream</code>反序列化流，将之前使用<code>ObjectOutputStream</code>序列化的原属数据恢复为对象</li>
</ul>
<h3 id="构造方法-4"><a href="#构造方法-4" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public ObjectInputStream(IntputStream In)</code></li>
</ul>
<h3 id="反序列化操作1"><a href="#反序列化操作1" class="headerlink" title="反序列化操作1"></a>反序列化操作1</h3><ul>
<li><p>如果找到一个对象的class文件，我们可以进行反序列化操作，调用<code>ObjectInputStream</code>读取对象的方法：</p>
<p><code>public final Object readObject()</code> </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        Object o = ois.readObject();</span><br><span class="line">        System.out.println(o);</span><br><span class="line">        ois.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>静态优先于非静态加载到内存中（静态优先于对象进入到内存中），被<code>static</code>修饰的成员变量不能被序列化，序列化的都是对象。</li>
<li><code>transient</code>关键字：瞬态关键字，所修饰的变量不能被序列化</li>
</ul>
<h3 id="反序列化操作2"><a href="#反序列化操作2" class="headerlink" title="反序列化操作2"></a>反序列化操作2</h3><p>当JVM反序列化对象时，能找到class文件，但是class文件在序列化对象之后发生了修改，那么反序列化时也会失败，抛出<code>InvalidClassException</code>异常，产生这个异常的原因如下：</p>
<ul>
<li>该类的序列版本号和从流中读取的类描述符的版本号不匹配</li>
<li>该类包含位置数据类型</li>
<li>该类没有可访问的无参构造方法</li>
</ul>
<p><code>Serializable</code>接口给需要序列化的类提供了一个序列版本号。<code>serialVersionUID</code>该版本号的目的在于验证序列化的对象和对应类是否版本匹配。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<h1 id="第七章-打印流"><a href="#第七章-打印流" class="headerlink" title="第七章 打印流"></a>第七章 打印流</h1><h2 id="PrintStream类"><a href="#PrintStream类" class="headerlink" title="PrintStream类"></a>PrintStream类</h2><p><strong>继承OutputStream类。</strong></p>
<ul>
<li><code>PrintStream(String fileName)</code>：使用指定的文件名创建一个新的打印流</li>
<li><code>PrintStream(OutputStream out)</code></li>
<li><code>PrintStream(File file)</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        ps.write(<span class="number">97</span>);</span><br><span class="line">        ps.print(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        System.setOut(ps);<span class="comment">//改变打印流</span></span><br><span class="line">        System.out.println(<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        ps.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/27/IO-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81-Java/" data-id="cknhe7buk0018ows69t6lcmxv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-File类-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/25/File%E7%B1%BB-Java/" class="article-date">
  <time datetime="2020-08-25T12:46:40.000Z" itemprop="datePublished">2020-08-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/25/File%E7%B1%BB-Java/">File类-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="File类的静态成员变量"><a href="#File类的静态成员变量" class="headerlink" title="File类的静态成员变量"></a>File类的静态成员变量</h1><ul>
<li>static String pathSeparator：和系统有关的路径分隔符</li>
<li>static charpathSeparatorChar</li>
<li>static String separator：与系统有关的默认名称分隔符</li>
<li>static char separatorChar </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(File.pathSeparator);</span><br><span class="line">System.out.println(File.separator);</span><br><span class="line">String file = <span class="string">&quot;c:&quot;</span> + File.separator + <span class="string">&quot;hxx.txt&quot;</span>;</span><br></pre></td></tr></table></figure>

<h1 id="File类的构造方法"><a href="#File类的构造方法" class="headerlink" title="File类的构造方法"></a>File类的构造方法</h1><ul>
<li>public File(String pathname)：通过将给定的路径字符串转换为抽象路径名来创建新的File实例</li>
<li>public File(String parent，String child)：从父路径名字符串和子路径创建新的file实例</li>
<li>public File(File parent，String child)：从父抽象路径名和子路径字符串创建新的file实例</li>
</ul>
<h1 id="File类获取方法"><a href="#File类获取方法" class="headerlink" title="File类获取方法"></a>File类获取方法</h1><ul>
<li>public String getAbsolutePath()：返回绝对路径名字符串</li>
<li>public String getPath()：将FIle转换为路径名字符串</li>
<li>public String getName()：返回此File表示的文件或者目录的名称</li>
<li>public long length()：返回此文件的长度</li>
</ul>
<h1 id="File类判断"><a href="#File类判断" class="headerlink" title="File类判断"></a>File类判断</h1><ul>
<li>public boolean exists()：此File表示的文件或者目录是否存在</li>
<li>public boolean isDirectory()：此File是否为目录</li>
<li>public boolean isFile()：此File是否为文件</li>
</ul>
<h1 id="File创建删除"><a href="#File创建删除" class="headerlink" title="File创建删除"></a>File创建删除</h1><ul>
<li>public boolean createNewFile()：当且仅当具有该名称的文件尚不存在时，创建一个新的文件</li>
<li>public boolean delete()：删除此文件或者目录</li>
<li>public boolean mkdir()：创建目录</li>
<li>public boolean mkdirs()：创建目录，包括任何必须但不存在的父目录</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//String file = &quot;f:&quot; + File.separator + &quot;hxx.java&quot;;</span></span><br><span class="line">String file =<span class="string">&quot;hxx.txt&quot;</span>;</span><br><span class="line">File f = <span class="keyword">new</span> File(file);</span><br><span class="line">System.out.println(<span class="string">&quot;文件绝对路径&quot;</span> + f.getAbsolutePath());</span><br><span class="line">System.out.println(<span class="string">&quot;文件构造路径&quot;</span> + f.getPath());</span><br><span class="line">System.out.println(<span class="string">&quot;文件名称&quot;</span> + f.getName());</span><br><span class="line">System.out.println(<span class="string">&quot;文件长度&quot;</span> + f.length());</span><br><span class="line"> System.out.println(f.getAbsoluteFile() + <span class="string">&quot;是否存在：&quot;</span> + f.exists());</span><br><span class="line">System.out.println(<span class="string">&quot;是否创建：&quot;</span> + f.createNewFile());</span><br><span class="line"><span class="comment">//System.out.println(&quot;是否删除：&quot; + f.delete());</span></span><br></pre></td></tr></table></figure>



<h1 id="File目录的遍历"><a href="#File目录的遍历" class="headerlink" title="File目录的遍历"></a>File目录的遍历</h1><ul>
<li>public String[] list()：返回一个String数组，表示该File目录中的所有子文件或目录</li>
<li>public File[] listFiles()：返回一个File数组，表示该File目录中的所有子文件或目录</li>
</ul>
<h1 id="FileFilter过滤器"><a href="#FileFilter过滤器" class="headerlink" title="FileFilter过滤器"></a>FileFilter过滤器</h1><ul>
<li><p> <code>public File[] listFiles(FileFilter filter)</code></p>
</li>
<li><p>java.io.FileFilter接口用于过滤文件，其中只有一个抽象方法accept(File pathname)，用来设置过虑规则。</p>
</li>
<li><p>java.io.FilenameFilter接口用于过滤文件名称，其抽象方法accept(File dir，String name)，用来测试指定文件是否应该包含在某一个列表中。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;F:&quot;</span>);</span><br><span class="line">        getAllFile(file);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getAllFile</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">       <span class="comment">/*File []files = dir.listFiles(new FileFilter() &#123;</span></span><br><span class="line"><span class="comment">            @Override</span></span><br><span class="line"><span class="comment">            public boolean accept(File pathname) &#123;</span></span><br><span class="line"><span class="comment">                if(pathname.isDirectory())return true;</span></span><br><span class="line"><span class="comment">                return pathname.getName().toLowerCase().endsWith(&quot;.txt&quot;);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;);*/</span></span><br><span class="line">        File []files = dir.listFiles(<span class="keyword">new</span> FilenameFilter() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> File(dir,name).isDirectory() || name.toLowerCase().endsWith(<span class="string">&quot;.txt&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span> (File file : files) &#123;</span><br><span class="line">            <span class="keyword">if</span>(file.isDirectory())&#123;<span class="comment">//递归遍历目录</span></span><br><span class="line">                getAllFile(file);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(file);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/25/File%E7%B1%BB-Java/" data-id="cknhe7bub000mows60q3s334p" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-线程问题-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/25/%E7%BA%BF%E7%A8%8B%E9%97%AE%E9%A2%98-Java/" class="article-date">
  <time datetime="2020-08-25T01:11:47.000Z" itemprop="datePublished">2020-08-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/25/%E7%BA%BF%E7%A8%8B%E9%97%AE%E9%A2%98-Java/">线程问题-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第一章-线程"><a href="#第一章-线程" class="headerlink" title="第一章 线程"></a>第一章 线程</h1><h2 id="1-1-创建多线程类对象"><a href="#1-1-创建多线程类对象" class="headerlink" title="1.1 创建多线程类对象"></a>1.1 创建多线程类对象</h2><ul>
<li>Java使用<code>java.lang.Thread</code>类代表线程，所有的线程对象都必须是Thread类或其子类的实例。每个线程的作用是完成一定的任务，实际上是执行一段程序流即一段顺序执行的代码。Java使用<strong>线程执行体</strong>来代表这段程序流。Java通过继承Thread类来创建并启动多线程的步骤：<ol>
<li>定义Thread类的子类，并重写该类的run()方法，该方法的方法体就代表了线程需要完成的任务，因此把run()方法称为线程执行体</li>
<li>创建Thread子类的实例，即创建线程对象</li>
<li>调用线程对象的start()方法启动线程</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;run:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread mt = <span class="keyword">new</span> MyThread();</span><br><span class="line">        mt.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;main:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>相关方法</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/Thread%E6%96%B9%E6%B3%95.PNG"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取当前执行线程的名称</span></span><br><span class="line">System.out.println(Thread.currentThread().getName());</span><br><span class="line"><span class="comment">//疫苗打印一个数字</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;main:&quot;</span>+i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-2-创建线程实现Runable接口"><a href="#1-2-创建线程实现Runable接口" class="headerlink" title="1.2 创建线程实现Runable接口"></a>1.2 创建线程实现Runable接口</h2><ul>
<li>实现步骤<ol>
<li>创建一个Runable接口的实现类，在实现类中重写run方法，设置线程任务</li>
<li>创建Runable接口的实现类对象</li>
<li>创建Thread类对象，构造方法中传递Runable接口的实现类对象，调用start开启线程</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyRunable run = <span class="keyword">new</span> MyRunable();</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(run);</span><br><span class="line">        thread.start();</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>实现Runable接口创建多线程的好处</strong><ol>
<li><strong>避免了单继承的局限性</strong>：一个类只能继承一个类，类继承了Thread类就不能继承其他的类但是实现了Runable接口，还是可以继承其他类，实现其他的接口</li>
<li>**增强了程序的扩展性，降低了程序的耦合性(解耦)**：实现Runable接口的方式，把设置线程任务和开启新线程进行了分离。实现类中重写了run方法：用来设置线程任务；创建Thread类对象，调用start方法：用来开启新线程</li>
</ol>
</li>
</ul>
<h2 id="1-3-匿名内部类方式实现线程的创建"><a href="#1-3-匿名内部类方式实现线程的创建" class="headerlink" title="1.3 匿名内部类方式实现线程的创建"></a>1.3 匿名内部类方式实现线程的创建</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br></pre></td></tr></table></figure>

<h1 id="第二章-线程安全"><a href="#第二章-线程安全" class="headerlink" title="第二章 线程安全"></a>第二章 线程安全</h1><ul>
<li>多线程访问了共享的数据会容易产生线程安全问题，Java中提供了同步机制(synchronized)</li>
</ul>
<h2 id="2-1-同步代码块"><a href="#2-1-同步代码块" class="headerlink" title="2.1 同步代码块"></a>2.1 同步代码块</h2><ul>
<li><p><strong>synchronized</strong>关键字可以用于方法中的某个区块中，表示只对这个区块的资源实行互斥访问</p>
<p><code>synchronized(同步锁)&#123; //同步操作代码  &#125;</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">    <span class="comment">//创建一个锁对象，可以是任意类型</span></span><br><span class="line">    Object obj = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (obj)&#123;</span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;正在卖&quot;</span> + ticket + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建三个线程，同时开启，对共享的票出售</span></span><br><span class="line">        MyRunable run = <span class="keyword">new</span> MyRunable();</span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(run);</span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(run);</span><br><span class="line">        Thread t3 = <span class="keyword">new</span> Thread(run);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-2-同步方法"><a href="#2-2-同步方法" class="headerlink" title="2.2 同步方法"></a>2.2 同步方法</h2><ul>
<li><p>使用synchronized修饰的方法。保证A线程执行该方法的时候，其他线程只能在方法外等待</p>
<p><code>public synchronized void method()&#123;        //...........    &#125;</code> </p>
</li>
<li><p>同步锁：对于非静态方法是this；对于static方法，是当前方法所在字节码对象(类名.class)</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;正在卖&quot;</span> + ticket + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">            ticket--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            method();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-3-Lock锁机制"><a href="#2-3-Lock锁机制" class="headerlink" title="2.3 Lock锁机制"></a>2.3 Lock锁机制</h2><ul>
<li><code>public void lock()</code>：加同步锁</li>
<li><code>public void unlock()</code>：释放同步锁</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">    Lock l = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            l.lock();</span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;正在卖&quot;</span> + ticket + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                    l.unlock();<span class="comment">//无论是否出现安全问题都会释放锁对象</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="3-线程池"><a href="#3-线程池" class="headerlink" title="3 线程池"></a>3 线程池</h1><ul>
<li>使用线程池的工厂类Excutors里面提供的静态方法newFixedThreadPool生产一个指定线程数量的线程池</li>
<li>创建一个类，实现Runable接口，重写run方法设置线程任务</li>
<li>调用ExcutorService的方法submit，传递线程任务（实现类），开启线程</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">executorService.submit(<span class="keyword">new</span> MyRunable());</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/25/%E7%BA%BF%E7%A8%8B%E9%97%AE%E9%A2%98-Java/" data-id="cknhe7bxu007zows66kq7400l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-异常-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/23/%E5%BC%82%E5%B8%B8-Java/" class="article-date">
  <time datetime="2020-08-23T08:47:38.000Z" itemprop="datePublished">2020-08-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/23/%E5%BC%82%E5%B8%B8-Java/">异常-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-异常概念"><a href="#1-异常概念" class="headerlink" title="1 异常概念"></a>1 异常概念</h1><ul>
<li><h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><p>在执行过程中，出现非正常情况导致JVM停止。在Java中异常本身是一个类，产生异常就是创建异常对象并抛出一个异常对象。</p>
</li>
<li><h2 id="异常体系"><a href="#异常体系" class="headerlink" title="异常体系"></a>异常体系</h2><ol>
<li><p>异常的根类是java.lang.Throwable，其下有两个子类java.lang.Error和java.lang.Exception</p>
</li>
<li><p>Error：严重错误，无法处理的错误</p>
<p>Exception：异常，程序员可以通过代码纠正</p>
</li>
<li><p>常用方法：</p>
<p><code>public void printStackTrace()</code>:打印异常的详细信息，包含了异常的类型，异常的原因，出现的位置。在开发和调试阶段都得使用。</p>
<p><code>public String getMessage()</code>:获取发生异常的原因，提示给用户的时候就提示错误原因</p>
</li>
</ol>
</li>
</ul>
<h1 id="异常的处理"><a href="#异常的处理" class="headerlink" title="异常的处理"></a>异常的处理</h1><ul>
<li>Java中异常处理的五个关键字: <strong>try、catch、finally、throw、throws</strong></li>
</ul>
<h2 id="1-抛出异常throw"><a href="#1-抛出异常throw" class="headerlink" title="1. 抛出异常throw"></a>1. 抛出异常throw</h2><ul>
<li><p>在指定的方法中抛出指定的异常：throw new xxxException (“异常产生的原因”)</p>
</li>
<li><p>注意事项</p>
<ul>
<li><p>throw关键字必须写在方法内部</p>
</li>
<li><p>throw关键字后边new的对象必须是Exception或者它的子类对象</p>
</li>
<li><p>throw关键字抛出指定的异常独享就必须处理这个异常对象。若创建的是RuntimeException或者RuntimeException的子类对象，可以交给JVM处理。若创建的是编译异常，就必须处理（throws或者try catch）</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getElemnt</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;传递的数组值是空&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= arr.length || index &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArrayIndexOutOfBoundsException(<span class="string">&quot;数组越界异常&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ele = arr[index];</span><br><span class="line">        <span class="keyword">return</span> ele;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        int[] arr = null;</span></span><br><span class="line"><span class="comment">//        System.out.println(getElemnt(arr,0));</span></span><br><span class="line">        <span class="keyword">int</span>[] arr1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">        System.out.println(getElemnt(arr1,<span class="number">3</span>));</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-Objects非空判断"><a href="#2-Objects非空判断" class="headerlink" title="2. Objects非空判断"></a>2. Objects非空判断</h2><ul>
<li>public static &lt; T &gt; requireNonNull(T obj)：查看指定引用对象不是null</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">null</span>;</span><br><span class="line">Objects.requireNonNull(arr,<span class="string">&quot;传递的对象值为空&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="3-声明异常throws"><a href="#3-声明异常throws" class="headerlink" title="3. 声明异常throws"></a>3. 声明异常throws</h2><ul>
<li><p>当方法内部抛出异常对象的时候，可以使用throws关键字处理异常对象，把异常对象申明抛出给方法的调用者处理（throws或者try catch）。</p>
<p>修饰符 返回值类型 方法名（参数列表）throws AAAException,BBBException{</p>
<p>​    throw new AAAException(“产生原因”);</p>
<p>​    throw new BBBException(“产生原因”);</p>
<p>}</p>
</li>
<li><p>throws关键字后面声明的异常必须是Exception或者其子类，方法内部抛出多个异常都必须声明。若存在父子类关系，就直接声明父类</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readFile</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    	<span class="keyword">if</span>(!fileName.endsWith(<span class="string">&quot;.txt&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">&quot;文件后缀名不对&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!fileName.equals(<span class="string">&quot;D:\\hxx.txt&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="string">&quot;文件路径错误&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;读取&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        readFile(<span class="string">&quot;D:\\qzy.txt&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-捕获异常try-catch"><a href="#4-捕获异常try-catch" class="headerlink" title="4. 捕获异常try catch"></a>4. 捕获异常try catch</h2><p>try{//可能会产生异常的代码}</p>
<p>catch(异常类名 变量名){//异常的处理逻辑 }</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            readFile(<span class="string">&quot;D:\\qzy.txt&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-finally代码块"><a href="#5-finally代码块" class="headerlink" title="5. finally代码块"></a>5. finally代码块</h2><ul>
<li>一些特定的代码无论是异常是否发生，都需要执行。因为异常会引起程序跳转，导致有些语句执行不到</li>
<li><code>try....catch......finally</code>：finally一般用于资源释放。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            readFile(<span class="string">&quot;D:\\qzy.txt&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;释放资源&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-注意事项"><a href="#6-注意事项" class="headerlink" title="6. 注意事项"></a>6. 注意事项</h2><ul>
<li>如果父类抛出了多个异常，子类重写父类方法时，抛出和父类相同的异常或者是父类异常的子类或者不抛出异常</li>
<li>父类方法没有抛出异常，子类重写父类该方法时不可抛出异常。此时子类产生该异常，只能捕获处理，不能声明抛出</li>
</ul>
<h1 id="自定义异常类"><a href="#自定义异常类" class="headerlink" title="自定义异常类"></a>自定义异常类</h1><ul>
<li><p>格式</p>
<p>public class XXXException extends Exception | RuntimeException{</p>
<p>//添加一个空参数的构造方法</p>
<p>//添加一个带异常信息的构造方法</p>
<p>}</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegisterException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RegisterException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RegisterException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/23/%E5%BC%82%E5%B8%B8-Java/" data-id="cknhe7bx3006dows61nsmhxq0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/7/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/9/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">Java设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E3%80%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8B/" rel="tag">《数据库系统概论》</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">Java设计模式</a> <a href="/tags/MySQL/" style="font-size: 11.67px;">MySQL</a> <a href="/tags/SSM/" style="font-size: 15px;">SSM</a> <a href="/tags/c/" style="font-size: 16.67px;">c++</a> <a href="/tags/javaweb/" style="font-size: 18.33px;">javaweb</a> <a href="/tags/%E3%80%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8B/" style="font-size: 13.33px;">《数据库系统概论》</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/21/spring%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/">spring的依赖注入</a>
          </li>
        
          <li>
            <a href="/2021/04/19/spring%E7%9A%84IOC/">spring的IOC和实例化bean的配置</a>
          </li>
        
          <li>
            <a href="/2021/04/16/MyBatis%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/">MyBatis注解开发</a>
          </li>
        
          <li>
            <a href="/2021/04/15/MyBatis%E7%BC%93%E5%AD%98/">MyBatis缓存</a>
          </li>
        
          <li>
            <a href="/2021/04/14/MyBatis%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD/">MyBatis延迟加载</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 hxx-98<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>