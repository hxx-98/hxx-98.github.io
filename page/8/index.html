<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hxx</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hxx">
<meta property="og:url" content="http://hxx-98.github.io/page/8/index.html">
<meta property="og:site_name" content="Hxx">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="hxx-98">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hxx" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hxx</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hxx-98.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-TCP通信-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/31/TCP%E9%80%9A%E4%BF%A1-Java/" class="article-date">
  <time datetime="2020-08-31T01:06:06.000Z" itemprop="datePublished">2020-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/31/TCP%E9%80%9A%E4%BF%A1-Java/">TCP通信-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h1><p><strong>通信步骤</strong></p>
<p>​    服务器端先启动，服务器端不会主动的请求客户端，必须使用客户端请求服务器端。客户端和服务器端会建立一个逻辑链接，而这个连接中包含一个IO对象，客户端使用这个IO对象进行通信。通信的数据不只是字符，所以是字节流对象。</p>
<p><strong>服务器端必须明确两件事</strong></p>
<ol>
<li><p>多个客户端同时和服务器端进行交互，服务器端必须明确和哪个客户端进行的交互。服务器端有个方法，叫accept客户端获取到请求的客户端对象。</p>
</li>
<li><p>多个客户端同时和服务器进行交互，就需要使用多个IO流对象。</p>
</li>
<li><p>服务器端是没有IO流的，服务器可以获取到请求的客户流对象Socket，使用每个客户端Socket中提供的IO流和客户端进行交互。</p>
<ul>
<li><p>服务器端使用客户端的字节输入流读取客户端发送数据</p>
</li>
<li><p>服务器端使用客户端的字节输出流给客户端回写数据</p>
</li>
</ul>
</li>
</ol>
<p><strong>在Java中提供了两个类实现TCP通信程序</strong></p>
<ol>
<li>客户端：<code>java.net.Socket</code>类表示，创建<code>Socket</code>对象，向服务端发出连接请求，服务器端响应请求，两者建立连接开始通信</li>
<li>服务端：<code>java.net.SeverSocket</code>类表示。创建<code>SeverSocket</code>对象，先当与开启一个服务，并等待客户端的连接</li>
</ol>
<h1 id="2-Socket类"><a href="#2-Socket类" class="headerlink" title="2. Socket类"></a>2. Socket类</h1><p><code>Socket</code>类：该类实现客户端套接字（两台设备之间通讯的端点）</p>
<ul>
<li><code>public Socket(String host，int port)</code>：创建套接字对象并将其连接到指定主机上的指定端口号。如果指定的host是null，则相当于指定地址为回送地址。</li>
<li><code>OutputStream getOutputStream()</code>：返回此套接字的输出流</li>
<li><code>InputStream getInputStream</code>：返回此套接字的输入流</li>
<li><code>void close()</code>：关闭此套接字</li>
</ul>
<h1 id="3-SeverSocket类"><a href="#3-SeverSocket类" class="headerlink" title="3. SeverSocket类"></a>3. SeverSocket类</h1><ul>
<li><code>SeverSocket(int port)</code>：创建绑定到端口的服务器套接字</li>
<li>Socket accept()：侦听并接收此套接字的连接</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//客户端代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建客户端对象中的方法Socket，构造方法绑定服务器的IP地址和端口号</span></span><br><span class="line">        Socket socket = <span class="keyword">new</span> Socket(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8888</span>);</span><br><span class="line">        <span class="comment">//使用Socket对象中的getOutputStream()获取网络字节输出流对象</span></span><br><span class="line">        OutputStream os = socket.getOutputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输出流对象中的write方法，给服务器发送数据</span></span><br><span class="line">        os.write(<span class="string">&quot;你好，服务器&quot;</span>.getBytes());</span><br><span class="line">        <span class="comment">//使用Socket对象中的getInputStream方法获取网络字节输入流InputStream对象</span></span><br><span class="line">        InputStream is = socket.getInputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输入流对象中的方法read，读取服务器回写的数据</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = is.read(bytes);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes, <span class="number">0</span>, len));</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//服务器代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPSever</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建服务器SeverSocket对象和系统要指定的端口号</span></span><br><span class="line">        ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">        <span class="comment">//使用SeverSocket对象中的方法accept，获取到请求的客户端对象Socket</span></span><br><span class="line">        Socket socket = server.accept();</span><br><span class="line">        <span class="comment">//使用Socket对象中的getInputStream方法获取网络字节输入流InputStream对象</span></span><br><span class="line">        InputStream is = socket.getInputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输入流对象中的方法read，读取客户端发送来的数据</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = is.read(bytes);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes, <span class="number">0</span>, len));</span><br><span class="line">        <span class="comment">//使用Socket对象中的getOutputStream()获取网络字节输出流对象</span></span><br><span class="line">        OutputStream os = socket.getOutputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输出流对象中的write方法，给客户端发送数据</span></span><br><span class="line">        os.write(<span class="string">&quot;收到谢谢&quot;</span>.getBytes());</span><br><span class="line">        socket.close();</span><br><span class="line">        server.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="文件上传案例"><a href="#文件上传案例" class="headerlink" title="文件上传案例"></a>文件上传案例</h1><ul>
<li><p>当客户端向服务器发送数据时，不会将结束标记发送过去，服务器将会处于循环等待，所以要使用shutdownOutput方法。</p>
<p><code>void shutdownOutput()</code>：禁用此套接字的输出流。对于TCP套接字，任何以前写入的数据都将被发送，并且后跟TCP的正常连接终止序列</p>
</li>
<li><p>为防止同名文件被覆盖，自定义一个文件的命名规则：<strong>域名+毫秒值+随机数</strong></p>
</li>
<li><p>服务器要一直处于监听状态(死循环accept方法)。使用多线程技术，提高程序的效率，有一个客户端上传文件就开启一个线程，完成文件上传</p>
</li>
</ul>
<h2 id="服务器端代码"><a href="#服务器端代码" class="headerlink" title="服务器端代码"></a>服务器端代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPSever</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建服务器SeverSocket对象和系统要指定的端口号</span></span><br><span class="line">        ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="comment">//使用SeverSocket对象中的方法accept，获取到请求的客户端对象Socket</span></span><br><span class="line">            Socket socket = server.accept();</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span>&#123;</span><br><span class="line">                        File file = <span class="keyword">new</span> File(<span class="string">&quot;D:\\Blog\\images\\JAVA&quot;</span>);</span><br><span class="line">                        <span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">                            file.mkdirs();</span><br><span class="line">                        &#125;</span><br><span class="line">                        String filename = <span class="string">&quot;hxx&quot;</span>+System.currentTimeMillis()+ <span class="keyword">new</span> Random(<span class="number">9999</span>).nextInt();</span><br><span class="line">                        <span class="comment">//创建一个本地输出流</span></span><br><span class="line">                        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file+<span class="string">&quot;\\&quot;</span>+filename+<span class="string">&quot;.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//使用Socket对象中的getInputStream方法获取网络字节输入流InputStream对象</span></span><br><span class="line">                        InputStream is = socket.getInputStream();</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//使用网络字节输入流对象中的方法read，读取客户端发送来的数据</span></span><br><span class="line">                        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">                        <span class="keyword">int</span> len;</span><br><span class="line">                        <span class="keyword">while</span> ((len = is.read(bytes))!=-<span class="number">1</span>)&#123;</span><br><span class="line">                            fos.write(bytes,<span class="number">0</span>,len);<span class="comment">//写到硬盘</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">//使用Socket对象中的getOutputStream()获取网络字节输出流对象</span></span><br><span class="line">                        <span class="comment">//使用网络字节输出流对象中的write方法，给客户端发送数据</span></span><br><span class="line">                        OutputStream os = socket.getOutputStream();</span><br><span class="line">                        os.write(<span class="string">&quot;上传成功&quot;</span>.getBytes());</span><br><span class="line">                        socket.shutdownOutput();</span><br><span class="line">                    &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">                         System.out.println(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//服务器不停机</span></span><br><span class="line">        <span class="comment">//server.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="客户端代码"><a href="#客户端代码" class="headerlink" title="客户端代码"></a>客户端代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//读取本地文件,创建本地输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;xin.png&quot;</span>);</span><br><span class="line">        <span class="comment">//创建客户端对象中的方法Socket，构造方法绑定服务器的IP地址和端口号</span></span><br><span class="line">        Socket socket = <span class="keyword">new</span> Socket(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8888</span>);</span><br><span class="line">        <span class="comment">//使用Socket对象中的getOutputStream()获取网络字节输出流对象</span></span><br><span class="line">        OutputStream os = socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//使用本地字节输入流FileInputStream对象中的方法read读取本地文件</span></span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(bytes))!= -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//使用网络字节输出流对象中的write方法，给服务器发送数据</span></span><br><span class="line">            os.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用Socket对象中的getInputStream方法获取网络字节输入流InputStream对象</span></span><br><span class="line">        InputStream is = socket.getInputStream();</span><br><span class="line">        <span class="comment">//使用网络字节输入流对象中的方法read，读取服务器回写的数据</span></span><br><span class="line">        len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(bytes))!= -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,len));</span><br><span class="line">        &#125;</span><br><span class="line">        socket.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="模拟BS服务器代码"><a href="#模拟BS服务器代码" class="headerlink" title="模拟BS服务器代码"></a>模拟BS服务器代码</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//http://127.0.0.1:8080/day01_code/web/index.html</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BSserver</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建服务器SeeverSocket类，</span></span><br><span class="line">        ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8080</span>);</span><br><span class="line">        <span class="comment">//浏览器解析服务器回写的页面，如果有图片那么浏览器会单独开一个线程，所以服务器要一直监听</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            Socket socket = server.accept();</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        InputStream is = socket.getInputStream();</span><br><span class="line">                        <span class="comment">//向浏览器端回写页面数据</span></span><br><span class="line">                        <span class="comment">//把is网络字节输入流对象，转换为字符缓冲输入流</span></span><br><span class="line">                        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(is));</span><br><span class="line">                        <span class="comment">//把请求信息的第一行读取出来</span></span><br><span class="line">                        String s = br.readLine();</span><br><span class="line">                        <span class="comment">//切割信息</span></span><br><span class="line">                        String[] s1 = s.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">                        String htmlPath = s1[<span class="number">1</span>].substring(<span class="number">1</span>);<span class="comment">//day01_code/web/index.html</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">//创建本地字节输入流，构造方法中绑定要读取的HTML文件路径</span></span><br><span class="line">                        FileInputStream fis = <span class="keyword">new</span> FileInputStream(htmlPath);</span><br><span class="line">                        OutputStream os = socket.getOutputStream();</span><br><span class="line">                        <span class="comment">//写入HTTP协议响应头，固定写法</span></span><br><span class="line">                        os.write((<span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>).getBytes());</span><br><span class="line">                        os.write((<span class="string">&quot;Content-Type:text/html\r\n&quot;</span>).getBytes());</span><br><span class="line">                        <span class="comment">//必须写入空行，否则浏览器不解析</span></span><br><span class="line">                        os.write((<span class="string">&quot;\r\n&quot;</span>).getBytes());</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//复制文件，将服务器读取的HTML文件回写到客户端</span></span><br><span class="line">                        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">                        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                            os.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">                        &#125;</span><br><span class="line">                        fis.close();</span><br><span class="line">                        socket.close();</span><br><span class="line">                    &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">                        System.out.println(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/31/TCP%E9%80%9A%E4%BF%A1-Java/" data-id="cknhe7bvn003cows61eqb2tcz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-IO-字节流和字符流-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/27/IO-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81-Java/" class="article-date">
  <time datetime="2020-08-27T02:58:05.000Z" itemprop="datePublished">2020-08-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="IO顶级父类"><a href="#IO顶级父类" class="headerlink" title="IO顶级父类"></a>IO顶级父类</h1><table>
<thead>
<tr>
<th></th>
<th>输入流</th>
<th>输出流</th>
</tr>
</thead>
<tbody><tr>
<td>字节流</td>
<td>字节输入流<code>InputStream</code></td>
<td>字节输出流<code>OutputStream</code></td>
</tr>
<tr>
<td>字符流</td>
<td>字符输入流<code>Reader</code></td>
<td>字符输出流<code>Writer</code></td>
</tr>
</tbody></table>
<h1 id="第一章-字节流"><a href="#第一章-字节流" class="headerlink" title="第一章 字节流"></a>第一章 字节流</h1><h2 id="1-1-字节输出流"><a href="#1-1-字节输出流" class="headerlink" title="1.1  字节输出流"></a>1.1  字节输出流</h2><ul>
<li><code>java.io.OutputStream</code> 抽象类是表示字节输出流的所有类的超类，将指定的字节信息写道目的地。其基本共性方法：</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/OutputStream%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.PNG"></p>
<h2 id="1-2-文件字节输出流"><a href="#1-2-文件字节输出流" class="headerlink" title="1.2 文件字节输出流"></a>1.2 文件字节输出流</h2><ul>
<li><code>java.io.FileOutputStream</code> 文件字节输出流。将内存中的数据写入到硬盘的文件中</li>
</ul>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p><code>FileOutputStream(String name)</code>：创建一个向指定名称的文件中写入数据的输出文件流</p>
<p><code>FileOutputStream(File file)</code>：创建一个向指定File对象文件中写入数据的输出文件流</p>
<h3 id="写出字节数据"><a href="#写出字节数据" class="headerlink" title="写出字节数据"></a>写出字节数据</h3><ul>
<li><p><code>public void write(byte[] b)</code>：将字节数组的内容写入文件</p>
</li>
<li><p><code>public void write(byte[] b,int off,int len)</code>：将字节数组从off位置开始的长度为len的内容写入文件</p>
</li>
<li><p><code>FileOutputStream(String name,boolean append)</code> ：创建一个向指定name的文件中写入数据的输出文件流，append为true时创建对象不会覆盖原文件，而是继续追加</p>
</li>
<li><p><code>FileOutputStream(File file,boolean append)</code> ：创建一个向指定File的文件中写入数据的输出文件流。</p>
</li>
<li><p>写换行符</p>
<p><strong>Windows：\r\n；Linux：/n；Mac：/r</strong></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileOutputStream file = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line">        file.write(<span class="string">&quot;\r\n&quot;</span>.getBytes());<span class="comment">//换行</span></span><br><span class="line">        file.write(<span class="number">98</span>);<span class="comment">//b</span></span><br><span class="line">        <span class="keyword">byte</span> []bytes = &#123;<span class="number">65</span>,<span class="number">66</span>,<span class="number">67</span>&#125;;</span><br><span class="line">        file.write(bytes);<span class="comment">//ABC</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes1 = <span class="string">&quot;你好&quot;</span>.getBytes();</span><br><span class="line">        file.write(bytes1);<span class="comment">//你好</span></span><br><span class="line">        file.write(bytes,<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//BC</span></span><br><span class="line">        file.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-3-字节输入流"><a href="#1-3-字节输入流" class="headerlink" title="1.3 字节输入流"></a>1.3 字节输入流</h2><ul>
<li><code>java.io.InputStream</code>抽象类表示字节输入流所有类的超类，可以读取字节信息到内存中。<ul>
<li><code>public void close()</code>：关闭此输入流并释放相关资源</li>
<li><code>public int read()</code>：从输入流读取数据的一个字节</li>
<li><code>public int read(byte[] b)</code>：从输入流中读取一些字节，并将它们存储在字节数组b中</li>
</ul>
</li>
</ul>
<h2 id="1-4-文件字节输入流"><a href="#1-4-文件字节输入流" class="headerlink" title="1.4 文件字节输入流"></a>1.4 文件字节输入流</h2><ul>
<li><code>java.io.FileOutputStream</code> 文件字节输出流。将硬盘中的数据读取到内存中</li>
</ul>
<h3 id="构造方法-1"><a href="#构造方法-1" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><p><code>FileInputStream(String name)</code>：创建一个向指定名称的文件中读取数据的输入文件流</p>
</li>
<li><p><code>FileInputStream(File file)</code>：创建一个向指定File对象文件中读取数据的输入文件流</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;捕获.PNG&quot;</span>);</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;xin.PNG&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(len);<span class="comment">//文件复制</span></span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="第二章-字符流"><a href="#第二章-字符流" class="headerlink" title="第二章 字符流"></a>第二章 字符流</h1><h2 id="2-1-字符输入流"><a href="#2-1-字符输入流" class="headerlink" title="2.1 字符输入流"></a>2.1 字符输入流</h2><ul>
<li><code>java.io.Reader</code>抽象类是读取字符流的所有类的超类</li>
<li><code>public void close()</code>：关闭此输入流并释放相关资源</li>
<li><code>public int read()</code>：从输入流读取一个字符</li>
<li><code>public int read(char[] b)</code>：从输入流中读取一些字符</li>
</ul>
<h2 id="2-2-FileReader类"><a href="#2-2-FileReader类" class="headerlink" title="2.2 FileReader类"></a>2.2 FileReader类</h2><ul>
<li><p><code>FileReader(String name)</code> 创建一个新的FileReader，给定要读取的File对象</p>
</li>
<li><p><code>FileReader(File file)</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span>[] ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = fr.read())!= -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>)len);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-3-字符输出流Writer"><a href="#2-3-字符输出流Writer" class="headerlink" title="2.3 字符输出流Writer"></a>2.3 字符输出流Writer</h2><p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/Writer%E6%96%B9%E6%B3%95.PNG"></p>
<h2 id="2-4-FileWriter类"><a href="#2-4-FileWriter类" class="headerlink" title="2.4 FileWriter类"></a>2.4 FileWriter类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line">        fw.write(<span class="string">&quot;helloWorld&quot;</span>);</span><br><span class="line">        fw.flush();</span><br><span class="line">        fw.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h1 id="第三章-IO异常处理"><a href="#第三章-IO异常处理" class="headerlink" title="第三章 IO异常处理"></a>第三章 IO异常处理</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">try</span>(FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;捕获.PNG&quot;</span>);</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;xin.PNG&quot;</span>);)&#123; <span class="comment">//try执行完后fis fos自动释放</span></span><br><span class="line">            <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">                fos.write(len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="第四章-属性集"><a href="#第四章-属性集" class="headerlink" title="第四章 属性集"></a>第四章 属性集</h1><ul>
<li> <code>java.io.Properties</code>继承于<code>Hashtable</code>，来表示一个持久的属性集。它使用键值结构存储数据，每个键及其对应值都是一个字符串。</li>
</ul>
<h2 id="4-1-Properties类"><a href="#4-1-Properties类" class="headerlink" title="4.1 Properties类"></a>4.1 Properties类</h2><h3 id="构造方法-2"><a href="#构造方法-2" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public Properties()</code>：创建一个空的属性列表</li>
</ul>
<h3 id="基本的存储方法"><a href="#基本的存储方法" class="headerlink" title="基本的存储方法"></a>基本的存储方法</h3><ul>
<li><code>public Object setProperty(String key，String value)</code>：保存一对属性</li>
<li><code>public String getProperty(String)</code>：使用此属性列表中指定的键搜索属性值</li>
<li><code>public Set&lt; String &gt; stringPropertyName()</code>：所有键名称的集合</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro.setProperty(<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        Set&lt;String&gt; set = pro.stringPropertyNames();</span><br><span class="line">        <span class="keyword">for</span> (String s : set) &#123;</span><br><span class="line">            System.out.println(pro.getProperty(s));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h3 id="Store"><a href="#Store" class="headerlink" title="Store"></a>Store</h3><ul>
<li>可以使用<code>Properties</code>集合中的方法<code>store</code>，把集合中的临时数据持久化写入到硬盘中存储</li>
<li><code>void store(OutputStream out,String comments)</code>：不能写中文，<code>comment</code>是注释，说明保存的文件作用，不能使用中文，会产生乱码。一般使用空字符串</li>
<li><code>void store(Writer writer,String comments)</code>：能写中文</li>
</ul>
<h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><ul>
<li><code>void load(InputStream instream)</code>：不能含有中文键值对</li>
<li><code>void loadFileReader reader)</code>：不能含有中文键值对</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro.setProperty(<span class="string">&quot;hxx&quot;</span>,<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        <span class="comment">//创建字节输出流/字符输出流对象</span></span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//使用Properties集合中的方法store，把集合中的临时数据写入目的地</span></span><br><span class="line">        pro.store(fw,<span class="string">&quot;Save Data&quot;</span>);</span><br><span class="line">        fw.close();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//新建字符输入流</span></span><br><span class="line">        FileReader reader = <span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        Properties pro2 = <span class="keyword">new</span> Properties();</span><br><span class="line">        pro2.load(reader);</span><br><span class="line">        reader.close();</span><br><span class="line">        System.out.println(pro2);</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h1 id="第五章-缓冲流"><a href="#第五章-缓冲流" class="headerlink" title="第五章 缓冲流"></a>第五章 缓冲流</h1><h2 id="5-1-字节缓冲流"><a href="#5-1-字节缓冲流" class="headerlink" title="5.1 字节缓冲流"></a>5.1 字节缓冲流</h2><ul>
<li><p><code>public BufferedOutputStream(OutputStream out)</code> </p>
</li>
<li><p><code>public BufferedOutputStream(OutputStream out,int size)</code> :指定缓冲流内部缓冲区的大小</p>
</li>
<li><p><code>BufferedInputStream(InputStream in)</code>  </p>
</li>
<li><p><code>BufferedInputStream(InputStream in,int size)</code>  </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">        bos.write(<span class="string">&quot;hxxqzy&quot;</span>.getBytes());</span><br><span class="line">        bos.flush();<span class="comment">//刷新将缓冲区的内容刷新到文件中</span></span><br><span class="line">        bos.close();</span><br><span class="line"></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line"><span class="comment">//        int len = 0;</span></span><br><span class="line"><span class="comment">//        while((len = bis.read())!= -1)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.print((char) len);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len2 = <span class="number">0</span>;<span class="comment">//记录每次读取的有效字节个数</span></span><br><span class="line">        <span class="keyword">while</span>((len2 = bis.read(bytes))!= -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,len2));</span><br><span class="line">        &#125;</span><br><span class="line">        bis.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h2 id="4-2-字符缓冲流"><a href="#4-2-字符缓冲流" class="headerlink" title="4.2 字符缓冲流"></a>4.2 字符缓冲流</h2><ul>
<li><p><code>BufferedReader(Reader in)</code> </p>
</li>
<li><p>BufferedReader：<code>public String readLine()</code>：读一行文字</p>
</li>
<li><p><code>BufferedWriter(Writer out)</code></p>
</li>
<li><p>BufferedWriter：<code>public void newLine()</code>：写一行行分隔符，由系统属性定义符号</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;hxx.txt&quot;</span>,<span class="keyword">true</span>));</span><br><span class="line">        bw.newLine();</span><br><span class="line">        bw.write(<span class="string">&quot;韩晓璇&quot;</span>);</span><br><span class="line">        bw.close();</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">while</span>((line = br.readLine())!= <span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">        br.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="第五章-转换流"><a href="#第五章-转换流" class="headerlink" title="第五章 转换流"></a>第五章 转换流</h1><h2 id="5-1-字符编码和字符集"><a href="#5-1-字符编码和字符集" class="headerlink" title="5.1 字符编码和字符集"></a>5.1 字符编码和字符集</h2><h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><p>按照某种规则将字符存储到计算机中称之为<strong>编码</strong></p>
<p>将存储在计算机中的二进制数据按照某种规则解析显示出来叫做<strong>解码</strong></p>
<ul>
<li>字符编码：<code>Character Encoding</code></li>
</ul>
<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><ul>
<li>字符集(编码表)：<code>Charset</code> 是一个系统支持的所有字符的集合，包括国家文字、标点符号等</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/%E5%AD%97%E7%AC%A6%E9%9B%86.PNG"></p>
<h2 id="5-2-InputStreamReader"><a href="#5-2-InputStreamReader" class="headerlink" title="5.2 InputStreamReader"></a>5.2 InputStreamReader</h2><ul>
<li><code>java.io.InputStreamReader</code>继承了<code>Reader</code>，是字节流通向字符流的桥梁，可使用指定的<code>charset</code>读取字节将其解码为字符。</li>
<li><code>InputStreamReader(InputStream in)</code>：使用默认字符编码</li>
<li><code>InputStreamReader(InputStream in,String charSetName)</code>：指定字符编码名称不区分大小写。</li>
</ul>
<h2 id="5-2-OutputStreamWriter"><a href="#5-2-OutputStreamWriter" class="headerlink" title="5.2 OutputStreamWriter"></a>5.2 OutputStreamWriter</h2><ul>
<li><code>java.io.OutputStreamWriter</code>继承了<code>Writer</code>，是字符流通向字节流的桥梁，可使用指定的<code>charset</code>将要写入流中的字符编码成字节。</li>
<li><code>OutputStreamWriter(OutputStream out)</code>：使用默认字符编码</li>
<li><code>OutputStreamWriter(OutputStream out,String charSetName)</code>：指定字符编码名称不区分大小写。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>),<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        osw.write(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">        osw.flush();</span><br><span class="line">        osw.close();</span><br><span class="line"></span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>),<span class="string">&quot;gbk&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>) len);</span><br><span class="line">        &#125;</span><br><span class="line">        isr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="第六章-序列化"><a href="#第六章-序列化" class="headerlink" title="第六章 序列化"></a>第六章 序列化</h1><ul>
<li>java提供了一种对象序列化的机制。用一个字节序列可以表示一个对象，该字节序列包含该对象的数据、类型和存储的属性等信息。字节序列写出到文件之后，相当于文件中持久保存了一个对象的信息。</li>
<li>反之，该字节序列可以从文件中读取回来，重构对象，对它进行反序列化。对象的数据、类型和存储的属性等信息都可以用来在内存中创建对象。</li>
</ul>
<h2 id="6-1-ObjectOutputStream类"><a href="#6-1-ObjectOutputStream类" class="headerlink" title="6.1 ObjectOutputStream类"></a>6.1 ObjectOutputStream类</h2><p><code>java.io.ObjectOutputStream</code>类，将java对象的原始数据类型写出到文件，实现对象的持久存储</p>
<h3 id="构造方法-3"><a href="#构造方法-3" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public ObjectOutputStream(OutputStream out)</code>：创建一个指定OutputStream 的ObjectOutputStream。</li>
</ul>
<h3 id="序列化操作"><a href="#序列化操作" class="headerlink" title="序列化操作"></a>序列化操作</h3><ol>
<li>一个对象需要序列化必须满足两个条件<ul>
<li>该类必须实现<code>java.io.Serializable</code>接口，<code>Serializable</code>是一个标记接口，不实现此接口的类将不会使任何状态序列化或者反序列化，会抛出<code>NoSerializableException</code></li>
<li>该类的所有属性必须使可序列化的。如果有一个属性不需要可序列化，则该属性必须注明是瞬态的，使用<code>trasient</code>关键字修饰</li>
</ul>
</li>
<li><code>void writeObject(Object obj)</code>：将指定的对象写入<code>ObjectOutputStream</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> Person(<span class="string">&quot;hxx&quot;</span>));</span><br><span class="line">        oos.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h2 id="6-2-ObjectInputStream类"><a href="#6-2-ObjectInputStream类" class="headerlink" title="6.2 ObjectInputStream类"></a>6.2 ObjectInputStream类</h2><ul>
<li><code>ObjectInputStream</code>反序列化流，将之前使用<code>ObjectOutputStream</code>序列化的原属数据恢复为对象</li>
</ul>
<h3 id="构造方法-4"><a href="#构造方法-4" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public ObjectInputStream(IntputStream In)</code></li>
</ul>
<h3 id="反序列化操作1"><a href="#反序列化操作1" class="headerlink" title="反序列化操作1"></a>反序列化操作1</h3><ul>
<li><p>如果找到一个对象的class文件，我们可以进行反序列化操作，调用<code>ObjectInputStream</code>读取对象的方法：</p>
<p><code>public final Object readObject()</code> </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;hxx.txt&quot;</span>));</span><br><span class="line">        Object o = ois.readObject();</span><br><span class="line">        System.out.println(o);</span><br><span class="line">        ois.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>静态优先于非静态加载到内存中（静态优先于对象进入到内存中），被<code>static</code>修饰的成员变量不能被序列化，序列化的都是对象。</li>
<li><code>transient</code>关键字：瞬态关键字，所修饰的变量不能被序列化</li>
</ul>
<h3 id="反序列化操作2"><a href="#反序列化操作2" class="headerlink" title="反序列化操作2"></a>反序列化操作2</h3><p>当JVM反序列化对象时，能找到class文件，但是class文件在序列化对象之后发生了修改，那么反序列化时也会失败，抛出<code>InvalidClassException</code>异常，产生这个异常的原因如下：</p>
<ul>
<li>该类的序列版本号和从流中读取的类描述符的版本号不匹配</li>
<li>该类包含位置数据类型</li>
<li>该类没有可访问的无参构造方法</li>
</ul>
<p><code>Serializable</code>接口给需要序列化的类提供了一个序列版本号。<code>serialVersionUID</code>该版本号的目的在于验证序列化的对象和对应类是否版本匹配。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<h1 id="第七章-打印流"><a href="#第七章-打印流" class="headerlink" title="第七章 打印流"></a>第七章 打印流</h1><h2 id="PrintStream类"><a href="#PrintStream类" class="headerlink" title="PrintStream类"></a>PrintStream类</h2><p><strong>继承OutputStream类。</strong></p>
<ul>
<li><code>PrintStream(String fileName)</code>：使用指定的文件名创建一个新的打印流</li>
<li><code>PrintStream(OutputStream out)</code></li>
<li><code>PrintStream(File file)</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="string">&quot;hxx.txt&quot;</span>);</span><br><span class="line">        ps.write(<span class="number">97</span>);</span><br><span class="line">        ps.print(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        System.setOut(ps);<span class="comment">//改变打印流</span></span><br><span class="line">        System.out.println(<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        ps.close();</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/27/IO-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81-Java/" data-id="cknhe7buk0018ows69t6lcmxv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-File类-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/25/File%E7%B1%BB-Java/" class="article-date">
  <time datetime="2020-08-25T12:46:40.000Z" itemprop="datePublished">2020-08-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/25/File%E7%B1%BB-Java/">File类-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="File类的静态成员变量"><a href="#File类的静态成员变量" class="headerlink" title="File类的静态成员变量"></a>File类的静态成员变量</h1><ul>
<li>static String pathSeparator：和系统有关的路径分隔符</li>
<li>static charpathSeparatorChar</li>
<li>static String separator：与系统有关的默认名称分隔符</li>
<li>static char separatorChar </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(File.pathSeparator);</span><br><span class="line">System.out.println(File.separator);</span><br><span class="line">String file = <span class="string">&quot;c:&quot;</span> + File.separator + <span class="string">&quot;hxx.txt&quot;</span>;</span><br></pre></td></tr></table></figure>

<h1 id="File类的构造方法"><a href="#File类的构造方法" class="headerlink" title="File类的构造方法"></a>File类的构造方法</h1><ul>
<li>public File(String pathname)：通过将给定的路径字符串转换为抽象路径名来创建新的File实例</li>
<li>public File(String parent，String child)：从父路径名字符串和子路径创建新的file实例</li>
<li>public File(File parent，String child)：从父抽象路径名和子路径字符串创建新的file实例</li>
</ul>
<h1 id="File类获取方法"><a href="#File类获取方法" class="headerlink" title="File类获取方法"></a>File类获取方法</h1><ul>
<li>public String getAbsolutePath()：返回绝对路径名字符串</li>
<li>public String getPath()：将FIle转换为路径名字符串</li>
<li>public String getName()：返回此File表示的文件或者目录的名称</li>
<li>public long length()：返回此文件的长度</li>
</ul>
<h1 id="File类判断"><a href="#File类判断" class="headerlink" title="File类判断"></a>File类判断</h1><ul>
<li>public boolean exists()：此File表示的文件或者目录是否存在</li>
<li>public boolean isDirectory()：此File是否为目录</li>
<li>public boolean isFile()：此File是否为文件</li>
</ul>
<h1 id="File创建删除"><a href="#File创建删除" class="headerlink" title="File创建删除"></a>File创建删除</h1><ul>
<li>public boolean createNewFile()：当且仅当具有该名称的文件尚不存在时，创建一个新的文件</li>
<li>public boolean delete()：删除此文件或者目录</li>
<li>public boolean mkdir()：创建目录</li>
<li>public boolean mkdirs()：创建目录，包括任何必须但不存在的父目录</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//String file = &quot;f:&quot; + File.separator + &quot;hxx.java&quot;;</span></span><br><span class="line">String file =<span class="string">&quot;hxx.txt&quot;</span>;</span><br><span class="line">File f = <span class="keyword">new</span> File(file);</span><br><span class="line">System.out.println(<span class="string">&quot;文件绝对路径&quot;</span> + f.getAbsolutePath());</span><br><span class="line">System.out.println(<span class="string">&quot;文件构造路径&quot;</span> + f.getPath());</span><br><span class="line">System.out.println(<span class="string">&quot;文件名称&quot;</span> + f.getName());</span><br><span class="line">System.out.println(<span class="string">&quot;文件长度&quot;</span> + f.length());</span><br><span class="line"> System.out.println(f.getAbsoluteFile() + <span class="string">&quot;是否存在：&quot;</span> + f.exists());</span><br><span class="line">System.out.println(<span class="string">&quot;是否创建：&quot;</span> + f.createNewFile());</span><br><span class="line"><span class="comment">//System.out.println(&quot;是否删除：&quot; + f.delete());</span></span><br></pre></td></tr></table></figure>



<h1 id="File目录的遍历"><a href="#File目录的遍历" class="headerlink" title="File目录的遍历"></a>File目录的遍历</h1><ul>
<li>public String[] list()：返回一个String数组，表示该File目录中的所有子文件或目录</li>
<li>public File[] listFiles()：返回一个File数组，表示该File目录中的所有子文件或目录</li>
</ul>
<h1 id="FileFilter过滤器"><a href="#FileFilter过滤器" class="headerlink" title="FileFilter过滤器"></a>FileFilter过滤器</h1><ul>
<li><p> <code>public File[] listFiles(FileFilter filter)</code></p>
</li>
<li><p>java.io.FileFilter接口用于过滤文件，其中只有一个抽象方法accept(File pathname)，用来设置过虑规则。</p>
</li>
<li><p>java.io.FilenameFilter接口用于过滤文件名称，其抽象方法accept(File dir，String name)，用来测试指定文件是否应该包含在某一个列表中。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;F:&quot;</span>);</span><br><span class="line">        getAllFile(file);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getAllFile</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">       <span class="comment">/*File []files = dir.listFiles(new FileFilter() &#123;</span></span><br><span class="line"><span class="comment">            @Override</span></span><br><span class="line"><span class="comment">            public boolean accept(File pathname) &#123;</span></span><br><span class="line"><span class="comment">                if(pathname.isDirectory())return true;</span></span><br><span class="line"><span class="comment">                return pathname.getName().toLowerCase().endsWith(&quot;.txt&quot;);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;);*/</span></span><br><span class="line">        File []files = dir.listFiles(<span class="keyword">new</span> FilenameFilter() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> File(dir,name).isDirectory() || name.toLowerCase().endsWith(<span class="string">&quot;.txt&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span> (File file : files) &#123;</span><br><span class="line">            <span class="keyword">if</span>(file.isDirectory())&#123;<span class="comment">//递归遍历目录</span></span><br><span class="line">                getAllFile(file);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(file);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/25/File%E7%B1%BB-Java/" data-id="cknhe7bub000mows60q3s334p" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-线程问题-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/25/%E7%BA%BF%E7%A8%8B%E9%97%AE%E9%A2%98-Java/" class="article-date">
  <time datetime="2020-08-25T01:11:47.000Z" itemprop="datePublished">2020-08-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/25/%E7%BA%BF%E7%A8%8B%E9%97%AE%E9%A2%98-Java/">线程问题-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第一章-线程"><a href="#第一章-线程" class="headerlink" title="第一章 线程"></a>第一章 线程</h1><h2 id="1-1-创建多线程类对象"><a href="#1-1-创建多线程类对象" class="headerlink" title="1.1 创建多线程类对象"></a>1.1 创建多线程类对象</h2><ul>
<li>Java使用<code>java.lang.Thread</code>类代表线程，所有的线程对象都必须是Thread类或其子类的实例。每个线程的作用是完成一定的任务，实际上是执行一段程序流即一段顺序执行的代码。Java使用<strong>线程执行体</strong>来代表这段程序流。Java通过继承Thread类来创建并启动多线程的步骤：<ol>
<li>定义Thread类的子类，并重写该类的run()方法，该方法的方法体就代表了线程需要完成的任务，因此把run()方法称为线程执行体</li>
<li>创建Thread子类的实例，即创建线程对象</li>
<li>调用线程对象的start()方法启动线程</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;run:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread mt = <span class="keyword">new</span> MyThread();</span><br><span class="line">        mt.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;main:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>相关方法</li>
</ul>
<p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/Thread%E6%96%B9%E6%B3%95.PNG"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取当前执行线程的名称</span></span><br><span class="line">System.out.println(Thread.currentThread().getName());</span><br><span class="line"><span class="comment">//疫苗打印一个数字</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;main:&quot;</span>+i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-2-创建线程实现Runable接口"><a href="#1-2-创建线程实现Runable接口" class="headerlink" title="1.2 创建线程实现Runable接口"></a>1.2 创建线程实现Runable接口</h2><ul>
<li>实现步骤<ol>
<li>创建一个Runable接口的实现类，在实现类中重写run方法，设置线程任务</li>
<li>创建Runable接口的实现类对象</li>
<li>创建Thread类对象，构造方法中传递Runable接口的实现类对象，调用start开启线程</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyRunable run = <span class="keyword">new</span> MyRunable();</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(run);</span><br><span class="line">        thread.start();</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>实现Runable接口创建多线程的好处</strong><ol>
<li><strong>避免了单继承的局限性</strong>：一个类只能继承一个类，类继承了Thread类就不能继承其他的类但是实现了Runable接口，还是可以继承其他类，实现其他的接口</li>
<li>**增强了程序的扩展性，降低了程序的耦合性(解耦)**：实现Runable接口的方式，把设置线程任务和开启新线程进行了分离。实现类中重写了run方法：用来设置线程任务；创建Thread类对象，调用start方法：用来开启新线程</li>
</ol>
</li>
</ul>
<h2 id="1-3-匿名内部类方式实现线程的创建"><a href="#1-3-匿名内部类方式实现线程的创建" class="headerlink" title="1.3 匿名内部类方式实现线程的创建"></a>1.3 匿名内部类方式实现线程的创建</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br></pre></td></tr></table></figure>

<h1 id="第二章-线程安全"><a href="#第二章-线程安全" class="headerlink" title="第二章 线程安全"></a>第二章 线程安全</h1><ul>
<li>多线程访问了共享的数据会容易产生线程安全问题，Java中提供了同步机制(synchronized)</li>
</ul>
<h2 id="2-1-同步代码块"><a href="#2-1-同步代码块" class="headerlink" title="2.1 同步代码块"></a>2.1 同步代码块</h2><ul>
<li><p><strong>synchronized</strong>关键字可以用于方法中的某个区块中，表示只对这个区块的资源实行互斥访问</p>
<p><code>synchronized(同步锁)&#123; //同步操作代码  &#125;</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">    <span class="comment">//创建一个锁对象，可以是任意类型</span></span><br><span class="line">    Object obj = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (obj)&#123;</span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;正在卖&quot;</span> + ticket + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建三个线程，同时开启，对共享的票出售</span></span><br><span class="line">        MyRunable run = <span class="keyword">new</span> MyRunable();</span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(run);</span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(run);</span><br><span class="line">        Thread t3 = <span class="keyword">new</span> Thread(run);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-2-同步方法"><a href="#2-2-同步方法" class="headerlink" title="2.2 同步方法"></a>2.2 同步方法</h2><ul>
<li><p>使用synchronized修饰的方法。保证A线程执行该方法的时候，其他线程只能在方法外等待</p>
<p><code>public synchronized void method()&#123;        //...........    &#125;</code> </p>
</li>
<li><p>同步锁：对于非静态方法是this；对于static方法，是当前方法所在字节码对象(类名.class)</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;正在卖&quot;</span> + ticket + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">            ticket--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            method();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-3-Lock锁机制"><a href="#2-3-Lock锁机制" class="headerlink" title="2.3 Lock锁机制"></a>2.3 Lock锁机制</h2><ul>
<li><code>public void lock()</code>：加同步锁</li>
<li><code>public void unlock()</code>：释放同步锁</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">    Lock l = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            l.lock();</span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;正在卖&quot;</span> + ticket + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                    l.unlock();<span class="comment">//无论是否出现安全问题都会释放锁对象</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="3-线程池"><a href="#3-线程池" class="headerlink" title="3 线程池"></a>3 线程池</h1><ul>
<li>使用线程池的工厂类Excutors里面提供的静态方法newFixedThreadPool生产一个指定线程数量的线程池</li>
<li>创建一个类，实现Runable接口，重写run方法设置线程任务</li>
<li>调用ExcutorService的方法submit，传递线程任务（实现类），开启线程</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">executorService.submit(<span class="keyword">new</span> MyRunable());</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/25/%E7%BA%BF%E7%A8%8B%E9%97%AE%E9%A2%98-Java/" data-id="cknhe7bxu007zows66kq7400l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-异常-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/23/%E5%BC%82%E5%B8%B8-Java/" class="article-date">
  <time datetime="2020-08-23T08:47:38.000Z" itemprop="datePublished">2020-08-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/23/%E5%BC%82%E5%B8%B8-Java/">异常-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-异常概念"><a href="#1-异常概念" class="headerlink" title="1 异常概念"></a>1 异常概念</h1><ul>
<li><h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><p>在执行过程中，出现非正常情况导致JVM停止。在Java中异常本身是一个类，产生异常就是创建异常对象并抛出一个异常对象。</p>
</li>
<li><h2 id="异常体系"><a href="#异常体系" class="headerlink" title="异常体系"></a>异常体系</h2><ol>
<li><p>异常的根类是java.lang.Throwable，其下有两个子类java.lang.Error和java.lang.Exception</p>
</li>
<li><p>Error：严重错误，无法处理的错误</p>
<p>Exception：异常，程序员可以通过代码纠正</p>
</li>
<li><p>常用方法：</p>
<p><code>public void printStackTrace()</code>:打印异常的详细信息，包含了异常的类型，异常的原因，出现的位置。在开发和调试阶段都得使用。</p>
<p><code>public String getMessage()</code>:获取发生异常的原因，提示给用户的时候就提示错误原因</p>
</li>
</ol>
</li>
</ul>
<h1 id="异常的处理"><a href="#异常的处理" class="headerlink" title="异常的处理"></a>异常的处理</h1><ul>
<li>Java中异常处理的五个关键字: <strong>try、catch、finally、throw、throws</strong></li>
</ul>
<h2 id="1-抛出异常throw"><a href="#1-抛出异常throw" class="headerlink" title="1. 抛出异常throw"></a>1. 抛出异常throw</h2><ul>
<li><p>在指定的方法中抛出指定的异常：throw new xxxException (“异常产生的原因”)</p>
</li>
<li><p>注意事项</p>
<ul>
<li><p>throw关键字必须写在方法内部</p>
</li>
<li><p>throw关键字后边new的对象必须是Exception或者它的子类对象</p>
</li>
<li><p>throw关键字抛出指定的异常独享就必须处理这个异常对象。若创建的是RuntimeException或者RuntimeException的子类对象，可以交给JVM处理。若创建的是编译异常，就必须处理（throws或者try catch）</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getElemnt</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;传递的数组值是空&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= arr.length || index &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArrayIndexOutOfBoundsException(<span class="string">&quot;数组越界异常&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ele = arr[index];</span><br><span class="line">        <span class="keyword">return</span> ele;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        int[] arr = null;</span></span><br><span class="line"><span class="comment">//        System.out.println(getElemnt(arr,0));</span></span><br><span class="line">        <span class="keyword">int</span>[] arr1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">        System.out.println(getElemnt(arr1,<span class="number">3</span>));</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-Objects非空判断"><a href="#2-Objects非空判断" class="headerlink" title="2. Objects非空判断"></a>2. Objects非空判断</h2><ul>
<li>public static &lt; T &gt; requireNonNull(T obj)：查看指定引用对象不是null</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">null</span>;</span><br><span class="line">Objects.requireNonNull(arr,<span class="string">&quot;传递的对象值为空&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="3-声明异常throws"><a href="#3-声明异常throws" class="headerlink" title="3. 声明异常throws"></a>3. 声明异常throws</h2><ul>
<li><p>当方法内部抛出异常对象的时候，可以使用throws关键字处理异常对象，把异常对象申明抛出给方法的调用者处理（throws或者try catch）。</p>
<p>修饰符 返回值类型 方法名（参数列表）throws AAAException,BBBException{</p>
<p>​    throw new AAAException(“产生原因”);</p>
<p>​    throw new BBBException(“产生原因”);</p>
<p>}</p>
</li>
<li><p>throws关键字后面声明的异常必须是Exception或者其子类，方法内部抛出多个异常都必须声明。若存在父子类关系，就直接声明父类</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readFile</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    	<span class="keyword">if</span>(!fileName.endsWith(<span class="string">&quot;.txt&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">&quot;文件后缀名不对&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!fileName.equals(<span class="string">&quot;D:\\hxx.txt&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="string">&quot;文件路径错误&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;读取&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        readFile(<span class="string">&quot;D:\\qzy.txt&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-捕获异常try-catch"><a href="#4-捕获异常try-catch" class="headerlink" title="4. 捕获异常try catch"></a>4. 捕获异常try catch</h2><p>try{//可能会产生异常的代码}</p>
<p>catch(异常类名 变量名){//异常的处理逻辑 }</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            readFile(<span class="string">&quot;D:\\qzy.txt&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-finally代码块"><a href="#5-finally代码块" class="headerlink" title="5. finally代码块"></a>5. finally代码块</h2><ul>
<li>一些特定的代码无论是异常是否发生，都需要执行。因为异常会引起程序跳转，导致有些语句执行不到</li>
<li><code>try....catch......finally</code>：finally一般用于资源释放。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            readFile(<span class="string">&quot;D:\\qzy.txt&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;释放资源&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-注意事项"><a href="#6-注意事项" class="headerlink" title="6. 注意事项"></a>6. 注意事项</h2><ul>
<li>如果父类抛出了多个异常，子类重写父类方法时，抛出和父类相同的异常或者是父类异常的子类或者不抛出异常</li>
<li>父类方法没有抛出异常，子类重写父类该方法时不可抛出异常。此时子类产生该异常，只能捕获处理，不能声明抛出</li>
</ul>
<h1 id="自定义异常类"><a href="#自定义异常类" class="headerlink" title="自定义异常类"></a>自定义异常类</h1><ul>
<li><p>格式</p>
<p>public class XXXException extends Exception | RuntimeException{</p>
<p>//添加一个空参数的构造方法</p>
<p>//添加一个带异常信息的构造方法</p>
<p>}</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegisterException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RegisterException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RegisterException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/23/%E5%BC%82%E5%B8%B8-Java/" data-id="cknhe7bx3006dows61nsmhxq0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Map集合-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/22/Map%E9%9B%86%E5%90%88-Java/" class="article-date">
  <time datetime="2020-08-22T11:04:54.000Z" itemprop="datePublished">2020-08-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/22/Map%E9%9B%86%E5%90%88-Java/">Map集合-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Map集合概述"><a href="#Map集合概述" class="headerlink" title="Map集合概述"></a>Map集合概述</h1><ol>
<li>双列集合每一个元素包括两个值key和value，两者数据类型可以相同，也可以不用</li>
<li>key不可以重复，value可以重复</li>
<li>key和value一一对应</li>
</ol>
<h1 id="Map常用子类"><a href="#Map常用子类" class="headerlink" title="Map常用子类"></a>Map常用子类</h1><ul>
<li><strong>HashMap</strong>:无序集合，底层是哈希表。当存储自定义类型键值，需要重写toString和equals方法。</li>
<li><strong>LinkedHashMap</strong>：HashMap的子类，有序集合，存储和取出顺序相同。</li>
</ul>
<h1 id="Map常用方法"><a href="#Map常用方法" class="headerlink" title="Map常用方法"></a>Map常用方法</h1><p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/Map%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.PNG"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;hxx&quot;</span>, <span class="number">22</span>);</span><br><span class="line">        map.put(<span class="string">&quot;qzy&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        <span class="comment">//使用Map集合中的方法entryset，将Map集合中的Entry对象存储到set集合中</span></span><br><span class="line">        Set&lt;Map.Entry&lt;String, Integer&gt;&gt; set = map.entrySet();</span><br><span class="line">        <span class="comment">//遍历</span></span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : set) &#123;</span><br><span class="line">            String key = entry.getKey();</span><br><span class="line">            Integer value = entry.getValue();</span><br><span class="line">            System.out.println(key + <span class="string">&quot;----&quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/22/Map%E9%9B%86%E5%90%88-Java/" data-id="cknhe7bv30028ows6dv071dyy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Collections工具类-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/22/Collections%E5%B7%A5%E5%85%B7%E7%B1%BB-Java/" class="article-date">
  <time datetime="2020-08-22T09:13:24.000Z" itemprop="datePublished">2020-08-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/22/Collections%E5%B7%A5%E5%85%B7%E7%B1%BB-Java/">Collections工具类-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="常用功能"><a href="#常用功能" class="headerlink" title="常用功能"></a>常用功能</h1><ul>
<li>public static &lt; T &gt; bollean addAll(Collection&lt; T &gt; c,T…elements)：往集合中添加元素</li>
<li>public static void shutffle(List&lt;?&gt;list):打乱顺序</li>
<li>public static &lt; T &gt; sort(List&lt;?&gt;list):按默认规则升序排序</li>
<li>public static &lt; T &gt; sort(List&lt;?&gt;list，Comparator&lt;? Super T&gt;):按指定规则排序</li>
</ul>
<p><strong>对已有类型排序</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">2</span>);</span><br><span class="line">        list.add(<span class="number">1</span>);</span><br><span class="line">        Collections.sort(list);</span><br><span class="line">        Collections.sort(list, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> o1-o2;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>对自定义类型排序：对Comparable重写定义排序规则</strong>：this-参数（升序）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="comment">//....</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.getAge() - ((Person)o).getAge();<span class="comment">//按照年龄升序</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(list, <span class="keyword">new</span> Comparator&lt;Person&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Person o1, Person o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">int</span> result = o1.getAge() - o2.getAge();</span><br><span class="line">                <span class="keyword">if</span>(result == <span class="number">0</span>)&#123;<span class="comment">//若年龄一样，则按照姓名排序</span></span><br><span class="line">                    result = o1.getName().charAt(<span class="number">0</span>) - o2.getName().charAt(<span class="number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> result;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/22/Collections%E5%B7%A5%E5%85%B7%E7%B1%BB-Java/" data-id="cknhe7bu6000dows60rs80spk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-可变参数-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/22/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0-Java/" class="article-date">
  <time datetime="2020-08-22T08:48:19.000Z" itemprop="datePublished">2020-08-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/22/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0-Java/">可变参数-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h1><ul>
<li><p>使用前提</p>
<p>当方法的参数列表数据类型已经确定，但是参数的个数不确定就可以使用可变参数</p>
</li>
<li><p>使用格式</p>
<p>修饰符 返回值 方法名称（数据类型…变量名）{      }</p>
</li>
<li><p>原理</p>
<p>可变参数的底层是一个数组，根据传递参数个数不同创建不同长度的数组，来存储这些参数。参数个数可以从0开始</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(add(<span class="number">1</span>,<span class="number">2</span>));</span><br><span class="line">        <span class="keyword">int</span>[]a = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line">        System.out.println(add(a));</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span>...arr)</span></span>&#123;</span><br><span class="line">        <span class="comment">//定义一个初始化变量累加</span></span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//遍历</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : arr) &#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>注意事项</p>
<p>一个方法的参数列表只能有一个可变参数，如果方法的参数有多个，那么可变参数必须写在参数列表的末尾</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/22/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0-Java/" data-id="cknhe7bwt005tows6cxy91qk6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-泛型-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/21/%E6%B3%9B%E5%9E%8B-Java/" class="article-date">
  <time datetime="2020-08-21T09:12:18.000Z" itemprop="datePublished">2020-08-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/21/%E6%B3%9B%E5%9E%8B-Java/">泛型-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="定义含有泛型的类"><a href="#定义含有泛型的类" class="headerlink" title="定义含有泛型的类"></a>定义含有泛型的类</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericClass</span> &lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    E name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(E name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        GenericClass&lt;String&gt; gc = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        gc.setName(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="定义含有泛型的方法"><a href="#定义含有泛型的方法" class="headerlink" title="定义含有泛型的方法"></a>定义含有泛型的方法</h1><ul>
<li>修饰符 &lt;泛型&gt; 返回值类型 方法名(参数列表){ ………. }</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericClass</span></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> &lt;M&gt; <span class="function"><span class="keyword">void</span> <span class="title">method</span><span class="params">(M m)</span></span>&#123;</span><br><span class="line">       System.out.println(m);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> &lt;S&gt; <span class="function"><span class="keyword">void</span> <span class="title">methodB</span><span class="params">(S s)</span></span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        GenericClass gc = <span class="keyword">new</span> GenericClass();</span><br><span class="line">        gc.method(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        gc.method(<span class="keyword">true</span>);</span><br><span class="line">        GenericClass.methodB(<span class="string">&quot;含有泛型的静态方法通过类名调用&quot;</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="含有泛型的接口"><a href="#含有泛型的接口" class="headerlink" title="含有泛型的接口"></a>含有泛型的接口</h1><ul>
<li>修饰符 interface 接口名 &lt;代表泛型的变量&gt; {      }</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GenericInterface</span>&lt;<span class="title">I</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(I e)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> I <span class="title">get</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericInterfaceImpl</span> &lt;<span class="title">E</span>&gt;<span class="keyword">implements</span> <span class="title">GenericInterface</span> &lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        GenericInterfaceImpl&lt;String&gt; gcI = <span class="keyword">new</span> GenericInterfaceImpl();</span><br><span class="line">        gcI.add(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        System.out.println(gcI.get());</span><br><span class="line">        GenericInterfaceImpl &lt;Integer&gt; gc2 = <span class="keyword">new</span> GenericInterfaceImpl&lt;&gt;();</span><br><span class="line">        gc2.add(<span class="number">100</span>);</span><br><span class="line">        System.out.println(gc2.get());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="泛型通配符-lt-gt"><a href="#泛型通配符-lt-gt" class="headerlink" title="泛型通配符&lt;?&gt;"></a>泛型通配符&lt;?&gt;</h1><ul>
<li>代表任意类型，不能定义时使用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt;list1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list1.add(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        ArrayList&lt;Integer&gt; list2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list2.add(<span class="number">22</span>);</span><br><span class="line">        printArray(list1);</span><br><span class="line">        printArray(list2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printArray</span><span class="params">(ArrayList&lt;?&gt; list)</span></span>&#123;</span><br><span class="line">        <span class="comment">//使用迭代器遍历</span></span><br><span class="line">        Iterator&lt;?&gt; iterator = list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="通配符高级使用–受限泛型"><a href="#通配符高级使用–受限泛型" class="headerlink" title="通配符高级使用–受限泛型"></a>通配符高级使用–受限泛型</h1><ul>
<li><p><strong>泛型的上限：只接受该类型及其子类</strong></p>
<p>类型名 &lt;? extends 类 &gt; 对象名称</p>
</li>
<li><p><strong>泛型的下限：只接受该类型极其父类</strong></p>
<p>类型名 &lt;? super 类 &gt; 对象名称</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/21/%E6%B3%9B%E5%9E%8B-Java/" data-id="cknhe7bxn007nows61uq51jdu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-集合框架Collection-Java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/21/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6Collection-Java/" class="article-date">
  <time datetime="2020-08-21T08:24:50.000Z" itemprop="datePublished">2020-08-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/21/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6Collection-Java/">集合框架Collection-Java</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="集合框架介绍"><a href="#集合框架介绍" class="headerlink" title="集合框架介绍"></a>集合框架介绍</h1><p><img src="https://reborn-photo-url.oss-cn-beijing.aliyuncs.com/oss:/hxx_photo/collection%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6.PNG"></p>
<h1 id="集合常用功能"><a href="#集合常用功能" class="headerlink" title="集合常用功能"></a>集合常用功能</h1><ul>
<li>public boolean add(E a):把给定的对象添加到集合当中</li>
<li>public void clear():清空元素</li>
<li>public  boolean remove(E a)：删除指定元素</li>
<li>public  boolean contains(E a)：查找是否包含a</li>
<li>public  boolean isEmpty()</li>
<li>public  int size()</li>
<li>public  Object[] toArray()：把集合中的元素存储到数组中</li>
</ul>
<h1 id="迭代器Iterator接口"><a href="#迭代器Iterator接口" class="headerlink" title="迭代器Iterator接口"></a>迭代器Iterator接口</h1><ul>
<li><p>常用方法</p>
<p>public  E next()：返回迭代的下一个元素</p>
<p>public  boolean hasNext()：如果有元素可以迭代，返回true</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       Collection&lt;String&gt;collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       collection.add(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">       collection.add(<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">       <span class="comment">//使用迭代器遍历</span></span><br><span class="line">       Iterator&lt;String&gt; iterator = collection.iterator();<span class="comment">//获取迭代器的实现类对象</span></span><br><span class="line">       <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">           System.out.println(iterator.next());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h1 id="增强for"><a href="#增强for" class="headerlink" title="增强for"></a>增强for</h1><ul>
<li><p>格式</p>
<p>for(元素的数据类型   变量  ：Collection集合or数组){ ……… }</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList&lt;String&gt; arrayList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        arrayList.add(<span class="string">&quot;hxx&quot;</span>);</span><br><span class="line">        arrayList.add(<span class="string">&quot;qzy&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(String  s : arrayList)&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://hxx-98.github.io/2020/08/21/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6Collection-Java/" data-id="cknhe7by3008fows647m8ah0k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/7/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/9/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">Java设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E3%80%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8B/" rel="tag">《数据库系统概论》</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">Java设计模式</a> <a href="/tags/MySQL/" style="font-size: 11.67px;">MySQL</a> <a href="/tags/SSM/" style="font-size: 15px;">SSM</a> <a href="/tags/c/" style="font-size: 16.67px;">c++</a> <a href="/tags/javaweb/" style="font-size: 18.33px;">javaweb</a> <a href="/tags/%E3%80%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8B/" style="font-size: 13.33px;">《数据库系统概论》</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/13/MyBatis%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/">MyBatis多表查询</a>
          </li>
        
          <li>
            <a href="/2021/04/11/MyBatis%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E7%9A%84%E5%8A%A8%E6%80%81SQL/">MyBatis映射文件的动态SQL</a>
          </li>
        
          <li>
            <a href="/2021/04/09/MyBatis%E4%BA%8B%E5%8A%A1/">MyBatis事务</a>
          </li>
        
          <li>
            <a href="/2021/04/09/MyBatis%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/">MyBatis数据库连接池</a>
          </li>
        
          <li>
            <a href="/2021/04/08/SqlMapConfig-xml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/">SqlMapConfig.xml配置文件</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 hxx-98<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>